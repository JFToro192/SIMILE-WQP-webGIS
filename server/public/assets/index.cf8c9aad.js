import{C as p,O as N,a as H,T as v,S as h,M as O,d as J,b as G,V as X,W,L as x,c as F,o as m,e as _,f,t as u,g as r,F as w,r as C,p as E,h as B,n as L,i as S,j as Q,k as M,w as P,l as z,v as K,m as q,q as g,s as y,u as R,x as Z}from"./vendor.f2c0f20f.js";const U=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?l.credentials="include":e.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(e){if(e.ep)return;e.ep=!0;const l=a(e);fetch(e.href,l)}};U();var ee="/assets/assev_simile.d3f83cf6.png";function I(){const t="."+this.element.classList[0],s="."+t.split("-")[1]+"-item",a=$(t);a.hasClass("active")?($(`${s}`).slice(0).hide(),a.removeClass("active")):($(`${s}`).slice(0).show(),a.addClass("active"))}function A(){const t="."+this.element.classList[0],s="."+t.split("-")[1]+"-panel",a=$(t),i=$(s);i.hasClass("active")?(i.hide(),a.removeClass("active"),i.removeClass("active")):(i.show(),a.addClass("active"),i.addClass("active"))}class te extends p{constructor(s){const a=s||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-list"></i>';const e=document.createElement("div");e.className="show-burger ol-unselectable ol-control control-bar active",e.appendChild(i);super({element:e,target:a.target});e.addEventListener("click",I.bind(this),!1)}}class se extends p{constructor(s){const a=s||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-stack"></i>',i.title="layers panel";const e=document.createElement("div");e.className="show-layer ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:a.target});e.addEventListener("click",A.bind(this),!1)}}class ae extends p{constructor(s){const a=s||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-info-square"></i>',i.title="metadata panel";const e=document.createElement("div");e.className="show-metadata ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:a.target});e.addEventListener("click",A.bind(this),!1)}}class ie extends p{constructor(s){const a=s||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-clock-history"></i>',i.title="time panel";const e=document.createElement("div");e.className="show-time ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:a.target});e.addEventListener("click",A.bind(this),!1)}}class ne extends p{constructor(s){const a=s||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-map"></i>',i.title="basemaps";const e=document.createElement("div");e.className="show-basemap ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:a.target});e.addEventListener("click",A.bind(this),!1)}}class le extends p{constructor(s){const a=s||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-graph-up"></i>',i.title="plot time series";const e=document.createElement("div");e.className="show-plot ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:a.target});e.addEventListener("click",A.bind(this),!1)}}class re extends p{constructor(s){const a=s||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-file-earmark-easel"></i>',i.title="webgis guide";const e=document.createElement("div");e.className="show-slide ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:a.target});e.addEventListener("click",A.bind(this),!1)}}class oe extends p{constructor(s){const a=s||{},i=document.createElement("ul"),e=document.createElement("li"),l=document.createElement("li"),n=document.createElement("li"),o=document.createElement("li"),c=document.createElement("li");e.innerHTML='<button><i class="bi bi-people"></i></button>',l.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-facebook"></i></button>',n.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-twitter"></i></button>',o.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-linkedin"></i></button>',c.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-instagram"></i></button>',e.title="social",l.title="facebook",n.title="twitter",o.title="linkedin",c.title="instagram";const d=document.createElement("div");d.className="show-social ol-unselectable ol-control control-bar burger-item",i.appendChild(e),i.appendChild(l),i.appendChild(n),i.appendChild(o),i.appendChild(c),d.appendChild(i);super({element:d,target:a.target});e.addEventListener("click",I.bind(this),!1)}}class ce extends p{constructor(s){const a=s||{},i=document.createElement("ul"),e=document.createElement("li"),l=document.createElement("li"),n=document.createElement("li"),o=document.createElement("li"),c=document.createElement("li");e.innerHTML='<button ><i class="bi bi-journals"></i></button>',l.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-newspaper"></i></button>',n.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-briefcase"></i></button>',o.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-github"></i></button>',c.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-calendar-week"></i></button>',e.title="portfolio",l.title="news",n.title="business intelligence platform",o.title="webgis github repository",c.title="calendar";const d=document.createElement("div");d.className="show-about ol-unselectable ol-control control-bar burger-item",i.appendChild(e),i.appendChild(l),i.appendChild(n),i.appendChild(o),i.appendChild(c),d.appendChild(i);super({element:d,target:a.target});e.addEventListener("click",I.bind(this),!1)}}class de extends p{constructor(s){const a=s||{},i=document.createElement("div"),e=document.createElement("a");e.href="https://www.progetti.interreg-italiasvizzera.eu/it/b/78/sistemainformativoperilmonitoraggiointegratodeilaghiinsubriciedeiloroe";const l=document.createElement("img");l.src=ee,l.alt="logo-simile-interreg",e.appendChild(l),i.appendChild(e);const n=document.createElement("div");n.className="project-logo ol-unselectable ol-control",n.appendChild(i);super({element:n,target:a.target})}}new p({element:document.getElementById("layerPanel")});new p({element:document.getElementById("metadataPanel")});new p({element:document.getElementById("timePanel")});new p({element:document.getElementById("basemapPanel")});new p({element:document.getElementById("plotPanel")});new p({element:document.getElementById("slidePanel")});new p({element:document.getElementById("popup")});new N;const ue=new H({layers:[new v({source:new h({layer:"watercolor"})})]});function me(){return new O({target:"map",controls:J().extend([new G,ue,new te,new se,new ae,new ie,new ne,new le,new re,new oe,new ce,new de]),view:new X({center:[994904.36016,5775887605341e-6],zoom:10})})}new W;function V(t,s,a,i){return new v({source:new F({url:s,params:{LAYERS:t,TILED:!0,STYLES:i},crossOrigin:"anonymous",serverType:"geoserver"}),visible:!1,opacity:a})}function k(t,s){return t[s.name]={},t[s.name].workspace=s.workspace,t[s.name].typology=s.typology,t[s.name].crs=s.crs,t[s.name].sensor=s.sensor,t[s.name].timeComplete=[s.timeComplete],t[s.name].timeFormatted=[s.timeFormatted],t[s.name].level=s.level,t[s.name].layer=[s.layer],t}function pe(t,s,a){let i=Object.keys(s),e={};return e.static={},e.time={},e.basemap={},t.forEach(l=>{let n={},o=l.Name.split(":");if(n.workspace=o[0],n.name=o[1].split("_").slice(0,3).join("_"),n.sensor=o[1].split("_")[0],n.typology=o[1].split("_")[1],n.crs=o[1].split("_")[2],o[1].split("_")[3]!=null){n.timeComplete=o[1].split("_")[3];let d=o[1].split("_")[3].split("T")[0];n.timeFormatted=d.slice(0,4)+"-"+d.slice(4,6)+"-"+d.slice(6,8)}else n.timeComplete=void 0,n.timeFormatted=void 0;n.level=o[1].split("_")[4];let c="";i.includes(n.typology)&&(c=n.typology.toLowerCase()),n.layer=V(l.Name,a,.5,c),n.timeComplete!=null?n.name in e.time?(n.layer=V(l.Name,a,1,c),e.time[n.name].timeComplete.push(n.timeComplete),e.time[n.name].timeFormatted.push(n.timeFormatted),e.time[n.name].layer.push(n.layer)):(n.layer=V(l.Name,a,1),e.time=k(e.time,n)):e.static=k(e.static,n)}),e}function _e(t){let s={watercolor:{title:"watercolor",source:"Stamen",layer:[new v({source:new h({layer:"watercolor"}),visible:!1})]},terrain:{title:"terrain",source:"Stamen",layer:[new v({source:new h({layer:"terrain"}),visible:!1})]},toner:{title:"toner",source:"Stamen",layer:[new v({source:new h({layer:"toner"}),visible:!1})]},osm:{title:"osm",layer:[new v({source:new N,visible:!0})]}};return t.basemap=s,t}function be(t){let s={},a=[],i=[],e=[],l=[],n=[];for(let o in t)if(o=="time")for(let c in t[o]){let d=t[o][c].layer;n.push(new x({layers:d,visible:!0,opacity:.5}))}else{for(let c in t[o])o=="basemap"?a.push(t[o][c].layer[0]):o=="static"&&i.push(t[o][c].layer[0]);l[0]=new x({layers:i,visible:!0,opacity:1}),e[0]=new x({layers:a,visible:!0,opacity:1})}return s.basemap=e,s.static=l,s.time=n,s}var b=(t,s)=>{const a=t.__vccOpts||t;for(const[i,e]of s)a[i]=e;return a};const ge={name:"Layer",props:{child_msg:{type:String,default:"Layer Panel"},layer_list:{type:Object}},data(){return{}},methods:{setLayerVisible(t,s){this.$emit("setLayerVisible",{nGroup:t,index:s})},setLayerOpacity(t,s,a){let i=t.target.value;this.$emit("setLayerOpacity",{opacity:i,nGroup:s,index:a})},setLayerMetadata(t,s){this.$emit("setLayerMetadata",{layerType:t,layerName:s})}}},T=t=>(E("data-v-3bd9aa07"),t=t(),B(),t),ye={id:"layerPanel",class:"layer-panel ol-unselectable ol-control"},ve=T(()=>r("h6",{class:"static-layers-title"},[r("i",{class:"bi bi-arrow-right"}),f("Static Layers")],-1)),Ae={class:"static-layers active",id:"staticLayers"},fe={class:"layer-items"},he=["onChange"],we={class:"title-layer"},Ce=["title"],xe=S('<div class="dwnld-layer" data-v-3bd9aa07><i class="bi bi-box-arrow-down" data-v-3bd9aa07></i></div><div class="info-layer" data-v-3bd9aa07><i class="bi bi-info-square" data-v-3bd9aa07></i></div><div class="opct-layer" data-v-3bd9aa07><i class="bi bi-circle-half" data-v-3bd9aa07></i></div>',3),Ee={class:"opct-range-layer"},Be=["onChange"],Le=T(()=>r("h6",{class:"time-series-layers-title"},[r("i",{class:"bi bi-arrow-right"}),f("Time Series Layers")],-1)),Se={class:"time-series-layers active",id:"timeSeriesLayers"},Me={class:"layer-items"},Pe=["onChange"],Ie={class:"title-layer"},Ve=["title"],Ne=S('<div class="dwnld-layer" data-v-3bd9aa07><i class="bi bi-box-arrow-down" data-v-3bd9aa07></i></div><div class="info-layer" data-v-3bd9aa07><i class="bi bi-info-square" data-v-3bd9aa07></i></div><div class="opct-layer" data-v-3bd9aa07><i class="bi bi-circle-half" data-v-3bd9aa07></i></div>',3),We={class:"opct-range-layer"},Qe=["onChange"];function ke(t,s,a,i,e,l){return m(),_("div",ye,[f(u(a.child_msg)+" ",1),ve,r("div",Ae,[(m(!0),_(w,null,C(a.layer_list.static,(n,o,c)=>(m(),_("div",{class:"static-layer layer-list",key:n.static},[r("div",fe,[r("div",{class:L("chckbx-layer layer-static-"+c)},[r("input",{type:"checkbox",title:"set visible",name:"",id:"",onChange:d=>l.setLayerVisible(1,c)},null,40,he)],2),r("div",we,[r("p",{title:o},u(o),9,Ce)]),xe,r("div",Ee,[r("input",{type:"range",name:"",id:"",min:"0",max:"1",step:"0.01",value:"0.5",onChange:d=>l.setLayerOpacity(d,1,c)},null,40,Be)])])]))),128))]),Le,r("div",Se,[(m(!0),_(w,null,C(a.layer_list.time,(n,o,c)=>(m(),_("div",{class:"time-series-layer layer-list",key:n.time},[r("div",Me,[r("div",{class:L("chckbx-layer layer-timeSeries-"+c)},[r("input",{type:"checkbox",title:"set visible",name:"",id:"",onChange:d=>l.setLayerVisible(2,c)},null,40,Pe)],2),r("div",Ie,[r("p",{title:o},u(o),9,Ve)]),Ne,r("div",We,[r("input",{type:"range",name:"",id:"",min:"0",max:"1",step:"0.01",value:"0.5",onChange:d=>l.setLayerOpacity(d,2,c)},null,40,Qe)])])]))),128))])])}var Te=b(ge,[["render",ke],["__scopeId","data-v-3bd9aa07"]]);const Ye={name:"Layer",props:{child_msg:{type:String,default:"Metadata Panel"},title_layer:{type:String,default:"Title"},abstract_layer:{type:String,default:"Select a layer"},typology_layer:{type:String,default:"N/A"},crs_layer:{type:String,default:"N/A"},tstart_layer:{type:String,default:"N/A"},tend_layer:{type:String,default:"N/A"},legend_layer:{type:String,default:"N/A"}},data(){return{}}},De={id:"metadataPanel",class:"metadata-panel ol-unselectable ol-control"},je={class:"meta-title"},He={class:"meta-abstract"},Oe={class:"meta-info"},Je={class:"meta-details"},Ge={class:"meta-details-typology"},$e={class:"meta-details-crs"},Xe={class:"meta-details-tstart"},Fe={class:"meta-details-tend"},ze={class:"meta-legend"};function Ke(t,s,a,i,e,l){return m(),_("div",De,[f(u(a.child_msg)+" ",1),r("div",je,[r("h6",null,u(a.title_layer),1)]),r("div",He,"Abstract: "+u(a.abstract_layer),1),r("div",Oe,[r("div",Je,[r("div",Ge,"Typology: "+u(a.typology_layer),1),r("div",$e,"CRS: "+u(a.crs_layer),1),r("div",Xe,"Time Start: "+u(a.tstart_layer),1),r("div",Fe,"Time end: "+u(a.tend_layer),1)]),r("div",ze,"Legend: "+u(a.legend_layer),1)])])}var qe=b(Ye,[["render",Ke],["__scopeId","data-v-837cdb50"]]);const Re={name:"Time",props:{child_msg:{type:String,default:"Time Panel"},current_layer:{type:String,default:"Select a WQP map"},current_date:{type:String,default:"Date"}},data(){return{}}},Ze={id:"timePanel",class:"time-panel ol-unselectable ol-control"},Ue={class:"time-container"},et={class:"time-header"},tt=S('<div class="time-controls" data-v-4c9f25b6><div class="time-controls-dates" data-v-4c9f25b6><select name="" id="" data-v-4c9f25b6><option value="1" data-v-4c9f25b6>Select WQP...</option></select></div><div class="time-slider" data-v-4c9f25b6><input type="range" name="" id="" data-v-4c9f25b6></div><div id="time-controls-backward" class="time-controls_item ol-unselectable ol-control" data-v-4c9f25b6><button data-v-4c9f25b6><i class="bi bi-skip-backward-circle" data-v-4c9f25b6></i></button></div><div id="time-controls-play" class="time-controls_item ol-unselectable ol-control" data-v-4c9f25b6><div data-v-4c9f25b6><button data-v-4c9f25b6><i class="bi bi-play-circle" data-v-4c9f25b6></i></button></div></div><div id="time-controls-forward" class="time-controls_item ol-unselectable ol-control" data-v-4c9f25b6><button data-v-4c9f25b6><i class="bi bi-skip-forward-circle" data-v-4c9f25b6></i></button></div></div>',1);function st(t,s,a,i,e,l){return m(),_("div",Ze,[r("p",null,u(a.child_msg),1),r("div",Ue,[r("div",et,u(a.current_layer)+" - "+u(a.current_date),1),tt])])}var at=b(Re,[["render",st],["__scopeId","data-v-4c9f25b6"]]),it="/assets/osm.d6d13acb.png",nt="/assets/terrain.d843a7bb.png",lt="/assets/watercolor.8d0c5f2f.png",rt="/assets/toner.19bbfbf8.png",ot="data:image/png;base64,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";const ct={name:"Basemap",props:{child_msg:{type:String,default:"Basemap Panel"},data:{type:Array}},data(){return{}},methods:{getImage(t){if(t=="osm")return it;if(t=="terrain")return nt;if(t=="watercolor")return lt;if(t=="toner")return rt;if(t=="none")return ot}}},dt={id:"basemapPanel",class:"basemap-panel ol-unselectable ol-control"},ut={class:"basemap-container"},mt=["id","checked"],pt=["src"];function _t(t,s,a,i,e,l){return m(),_("div",dt,[r("p",null,u(a.child_msg),1),r("div",ut,[(m(!0),_(w,null,C(a.data,n=>(m(),_("div",{key:n.layer,class:"basemap-container_item"},[r("div",null,[r("input",{type:"radio",name:"basemap-radio",id:n.layer+"-option",class:L("basemap-option"),checked:n.active},null,8,mt),r("p",null,u(n.layer),1)]),r("img",{src:l.getImage(n.layer),alt:""},null,8,pt)]))),128))])])}var bt=b(ct,[["render",_t],["__scopeId","data-v-927fb79a"]]);const gt={name:"Plot",props:{child_msg:{type:String,default:"Plot Panel"}},data(){return{}}},yt={id:"plotPanel",class:"plot-panel ol-unselectable ol-control"};function vt(t,s,a,i,e,l){return m(),_("div",yt,u(a.child_msg),1)}var At=b(gt,[["render",vt],["__scopeId","data-v-1eb5ca25"]]),ft="/assets/i1.39c6eac4.png",ht="/assets/i2.52627267.png",wt="/assets/i3.e76ce568.png",Ct="/assets/i4.df51a994.png",xt="/assets/i5.9255129d.png",Et="/assets/i6.c99fefa1.png",Bt="/assets/i7.1425b493.png";const Lt={data(){return{}},methods:{prev(){this.$emit("prev")},next(){this.$emit("next")}}},Y=t=>(E("data-v-07c985f2"),t=t(),B(),t),St={class:"carousel-container"},Mt=Y(()=>r("i",{class:"bi bi-caret-left-fill"},null,-1)),Pt=[Mt],It=Y(()=>r("i",{class:"bi bi-caret-right-fill"},null,-1)),Vt=[It];function Nt(t,s,a,i,e,l){return m(),_("div",St,[Q(t.$slots,"default",{},void 0,!0),r("button",{class:"prev",onClick:s[0]||(s[0]=(...n)=>l.prev&&l.prev(...n))},Pt),r("button",{class:"next",onClick:s[1]||(s[1]=(...n)=>l.next&&l.next(...n))},Vt)])}var Wt=b(Lt,[["render",Nt],["__scopeId","data-v-07c985f2"]]);const Qt={props:["visibleSlide","index","direction"],data(){return{}}},kt={class:"carousel-slide"};function Tt(t,s,a,i,e,l){return m(),M(q,{name:a.direction},{default:P(()=>[z(r("div",kt,[Q(t.$slots,"default",{},void 0,!0)],512),[[K,a.visibleSlide===a.index]])]),_:3},8,["name"])}var Yt=b(Qt,[["render",Tt],["__scopeId","data-v-664b1638"]]);const Dt={name:"Slide",props:{child_msg:{type:String,default:"Slide Panel"},settings:{type:Object}},data(){return{visibleSlide:0,direction:""}},computed:{slidesLen(){return this.settings.slides.length}},methods:{prev(){this.visibleSlide<=0?this.visibleSlide=this.slidesLen-1:this.visibleSlide--,this.direction="right"},next(){this.visibleSlide>=this.slidesLen-1?this.visibleSlide=0:this.visibleSlide++,this.direction="left"},getImage(t){if(t=="i1.png")return ft;if(t=="i2.png")return ht;if(t=="i3.png")return wt;if(t=="i4.png")return Ct;if(t=="i5.png")return xt;if(t=="i6.png")return Et;if(t=="i7.png")return Bt}},mounted(){},components:{CarouselContainer:Wt,CarouselSlide:Yt}},jt=t=>(E("data-v-339db63c"),t=t(),B(),t),Ht={id:"slidePanel",class:"slide-panel ol-unselectable ol-control",style:{display:"none"}},Ot={class:"slidepanel-show"},Jt={class:"slide-title"},Gt={class:"slide-description"},$t=["src","alt"],Xt=jt(()=>r("div",{class:"slide-current"},null,-1));function Ft(t,s,a,i,e,l){const n=g("carousel-slide"),o=g("carousel-container");return m(),_("div",Ht,[f(u(a.child_msg)+" ",1),r("div",Ot,[y(o,{onPrev:l.prev,onNext:l.next},{default:P(()=>[(m(!0),_(w,null,C(a.settings.slides,(c,d)=>(m(),M(n,{key:c,index:d,visibleSlide:e.visibleSlide,direction:e.direction},{default:P(()=>[r("div",Jt,u(c.title),1),r("div",Gt,u(c.description),1),r("img",{src:l.getImage(c.src),alt:d},null,8,$t)]),_:2},1032,["index","visibleSlide","direction"]))),128))]),_:1},8,["onPrev","onNext"])]),Xt])}var zt=b(Dt,[["render",Ft],["__scopeId","data-v-339db63c"]]);const Kt=new W,qt={name:"WebGISContainer",data(){return{basemap_settings:this.settings.basemaps,layer_list:{},layer_groups:{},map:{}}},props:{settings:{type:Object,required:!0}},components:{layerPanel:Te,metadataPanel:qe,timePanel:at,basemapPanel:bt,plotPanel:At,slidePanel:zt},methods:{setLayerVisible(t){let s=t.index,a=t.nGroup;if(a<=1){let i=this.map.getLayers().array_[a].values_.layers.array_[s].getVisible();this.map.getLayers().array_[a].values_.layers.array_[s].setVisible(!i)}else{let i=this.map.getLayers().array_[a+s];console.log(this.map.getLayers());let e=i.values_.layers.array_.length-1,l=this.map.getLayers().array_[a+s].values_.layers.array_[e].getVisible();this.map.getLayers().array_[a+s].values_.layers.array_[e].setVisible(!l)}},setLayerOpacity(t){let s=t.opacity,a=t.index,i=t.nGroup;if(i<=1)this.map.getLayers().array_[i].values_.layers.array_[a].getVisible()==!0?(this.map.getLayers().array_[i].values_.layers.array_[a].setVisible(!1),this.map.getLayers().array_[i].values_.layers.array_[a].values_.opacity=s,this.map.getLayers().array_[i].values_.layers.array_[a].setVisible(!0)):this.map.getLayers().array_[i].values_.layers.array_[a].values_.opacity=s;else{let e=this.map.getLayers().array_[i+a];e.getVisible()==!0?(e.setVisible(!1),e.values_.opacity=s,e.setVisible(!0)):e.values_.opacity=s}}},mounted(){this.basemap_settings=this.settings.basemaps,R.get(this.settings.urlWMSget).then(t=>{let a=Kt.read(t.data).Capability.Layer.Layer,i=pe(a,this.settings.typology,this.settings.urlWMS),e=_e(i),l=be(e);return this.layer_list=i,this.layer_group=l,l}).then(t=>{const s=me();for(let a in t)for(let i in t[a])s.addLayer(t[a][i]);this.map=s}).catch(t=>console.log(t))}},Rt=r("div",{id:"map",class:"map"},null,-1),Zt=r("div",{id:"popup",class:"popup ol-unselectable ol-control"},null,-1);function Ut(t,s,a,i,e,l){const n=g("layerPanel"),o=g("metadataPanel"),c=g("timePanel"),d=g("basemapPanel"),D=g("slidePanel"),j=g("plotPanel");return m(),_("div",null,[Rt,y(n,{child_msg:"Layer-Panel",layer_list:e.layer_list,onSetLayerVisible:l.setLayerVisible,onSetLayerOpacity:l.setLayerOpacity,onSetLayerMetadata:t.setLayerMetadata},null,8,["layer_list","onSetLayerVisible","onSetLayerOpacity","onSetLayerMetadata"]),y(o,{child_msg:"Metadata-Panel"}),y(c,{child_msg:"Time-Panel"}),y(d,{child_msg:"Basemap-Panel",data:e.basemap_settings},null,8,["data"]),y(D,{child_msg:"Slide-Panel",settings:a.settings},null,8,["settings"]),y(j,{child_msg:"Plot-Panel"}),Zt])}var es=b(qt,[["render",Ut]]);const ts={urlWMS:"http://127.0.0.1/geoserver/geonode/wms",urlWMSget:"http://127.0.0.1/geoserver/ows?service=wms&version=1.3.0&request=GetCapabilities",typology:{CHL:{title:"Chlorophyll-a",abstract:"Chlorophyll-a allows plants to photosintezise. This measurement is used to classify the trophic conditionof a water body. The Chlorophyll-a maps presented have been processed using the Sentinel-3 OLCI sensor",style:"chl",units:"mg/m3"},TSM:{title:"Total Suspended Matter",abstract:"Total suspended matter concentration",style:"tsm",units:"mg/m3"},LSWT:{title:"Lake Surface Water Temperature",abstract:"Average lake surface temperature",style:"lswt",units:"\xB0C"}},basemaps:[{layer:"osm",source:"osm",src:"osm.png",active:!0},{layer:"watercolor",source:"stamen",src:"watercolor.png",active:!1},{layer:"terrain",source:"terrain-labels",src:"terrain.png",active:!1},{layer:"toner",source:"toner",src:"toner.png",active:!1},{layer:"none",source:"none",src:"none.png",active:!1}],slides:[{title:"Welcome!",src:"i1.png",description:"1. SIMILE WebGIS enables the visualization of the water quality parameters (WQPs) maps produced for Lakes Maggiore, Lugano and Como."},{title:"Explore the different tools",src:"i2.png",description:"2. The WebGIS presents multtiple panels allowing to explore the different water quality parameters maps"},{title:"Visualize and explore the WQP",src:"i3.png",description:"3. Review the different components allowing the visualization of the maps, such as the layer panel, metadata panel and time controller"},{title:"Observe the evolution of the time series",src:"i4.png",description:"4. Use the time manager to observe the changes of the parameters in time."},{title:"Observe the evolution of the time series",src:"i5.png",description:"4. Use the time manager to observe the changes of the parameters in time."},{title:"Change the basemap",src:"i6.png",description:"5. Customize the view of the WebGIS by using different basemaps"},{title:"Explore the guide",src:"i7.png",description:"6. Review the guide for the WebGIS"}]};const ss={name:"App",data(){return{settings:ts}},components:{WebGISContainer:es}};function as(t,s,a,i,e,l){const n=g("WebGISContainer");return m(),M(n,{settings:e.settings,layer:t.layer_list},null,8,["settings","layer"])}var is=b(ss,[["render",as],["__scopeId","data-v-1bf46334"]]);Z(is).mount("#app");
//# sourceMappingURL=index.cf8c9aad.js.map
