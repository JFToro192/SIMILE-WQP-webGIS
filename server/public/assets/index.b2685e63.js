import{C as p,O as k,a as Y,T as f,S as C,M as H,d as G,b as J,V as X,W as T,L as B,c as F,o as m,e as _,f as g,t as u,g as n,F as x,r as L,p as E,h as S,n as M,i as q,j as D,k as I,w as P,l as z,v as K,m as R,q as b,s as h,u as Z,x as U}from"./vendor.f2c0f20f.js";const ee=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?l.credentials="include":e.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(e){if(e.ep)return;e.ep=!0;const l=s(e);fetch(e.href,l)}};ee();var te="/assets/assev_simile.d3f83cf6.png";function N(){const t="."+this.element.classList[0],a="."+t.split("-")[1]+"-item",s=$(t);s.hasClass("active")?($(`${a}`).slice(0).hide(),s.removeClass("active")):($(`${a}`).slice(0).show(),s.addClass("active"))}function w(){const t="."+this.element.classList[0],a="."+t.split("-")[1]+"-panel",s=$(t),i=$(a);i.hasClass("active")?(i.hide(),s.removeClass("active"),i.removeClass("active")):(i.show(),s.addClass("active"),i.addClass("active"))}class se extends p{constructor(a){const s=a||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-list"></i>';const e=document.createElement("div");e.className="show-burger ol-unselectable ol-control control-bar active",e.appendChild(i);super({element:e,target:s.target});e.addEventListener("click",N.bind(this),!1)}}class ae extends p{constructor(a){const s=a||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-stack"></i>',i.title="layers panel";const e=document.createElement("div");e.className="show-layer ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:s.target});e.addEventListener("click",w.bind(this),!1)}}class ie extends p{constructor(a){const s=a||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-info-square"></i>',i.title="metadata panel";const e=document.createElement("div");e.className="show-metadata ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:s.target});e.addEventListener("click",w.bind(this),!1)}}class ne extends p{constructor(a){const s=a||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-clock-history"></i>',i.title="time panel";const e=document.createElement("div");e.className="show-time ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:s.target});e.addEventListener("click",w.bind(this),!1)}}class le extends p{constructor(a){const s=a||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-map"></i>',i.title="basemaps";const e=document.createElement("div");e.className="show-basemap ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:s.target});e.addEventListener("click",w.bind(this),!1)}}class re extends p{constructor(a){const s=a||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-graph-up"></i>',i.title="plot time series";const e=document.createElement("div");e.className="show-plot ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:s.target});e.addEventListener("click",w.bind(this),!1)}}class oe extends p{constructor(a){const s=a||{},i=document.createElement("button");i.innerHTML='<i class="bi bi-file-earmark-easel"></i>',i.title="webgis guide";const e=document.createElement("div");e.className="show-slide ol-unselectable ol-control control-bar burger-item",e.appendChild(i);super({element:e,target:s.target});e.addEventListener("click",w.bind(this),!1)}}class ce extends p{constructor(a){const s=a||{},i=document.createElement("ul"),e=document.createElement("li"),l=document.createElement("li"),r=document.createElement("li"),o=document.createElement("li"),c=document.createElement("li");e.innerHTML='<button><i class="bi bi-people"></i></button>',l.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-facebook"></i></button>',r.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-twitter"></i></button>',o.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-linkedin"></i></button>',c.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-instagram"></i></button>',e.title="social",l.title="facebook",r.title="twitter",o.title="linkedin",c.title="instagram";const d=document.createElement("div");d.className="show-social ol-unselectable ol-control control-bar burger-item",i.appendChild(e),i.appendChild(l),i.appendChild(r),i.appendChild(o),i.appendChild(c),d.appendChild(i);super({element:d,target:s.target});e.addEventListener("click",N.bind(this),!1)}}class de extends p{constructor(a){const s=a||{},i=document.createElement("ul"),e=document.createElement("li"),l=document.createElement("li"),r=document.createElement("li"),o=document.createElement("li"),c=document.createElement("li");e.innerHTML='<button ><i class="bi bi-journals"></i></button>',l.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-newspaper"></i></button>',r.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-briefcase"></i></button>',o.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-github"></i></button>',c.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-calendar-week"></i></button>',e.title="portfolio",l.title="news",r.title="business intelligence platform",o.title="webgis github repository",c.title="calendar";const d=document.createElement("div");d.className="show-about ol-unselectable ol-control control-bar burger-item",i.appendChild(e),i.appendChild(l),i.appendChild(r),i.appendChild(o),i.appendChild(c),d.appendChild(i);super({element:d,target:s.target});e.addEventListener("click",N.bind(this),!1)}}class ue extends p{constructor(a){const s=a||{},i=document.createElement("div"),e=document.createElement("a");e.href="https://www.progetti.interreg-italiasvizzera.eu/it/b/78/sistemainformativoperilmonitoraggiointegratodeilaghiinsubriciedeiloroe";const l=document.createElement("img");l.src=te,l.alt="logo-simile-interreg",e.appendChild(l),i.appendChild(e);const r=document.createElement("div");r.className="project-logo ol-unselectable ol-control",r.appendChild(i);super({element:r,target:s.target})}}new p({element:document.getElementById("layerPanel")});new p({element:document.getElementById("metadataPanel")});new p({element:document.getElementById("timePanel")});new p({element:document.getElementById("basemapPanel")});new p({element:document.getElementById("plotPanel")});new p({element:document.getElementById("slidePanel")});new p({element:document.getElementById("popup")});new k;const me=new Y({layers:[new f({source:new C({layer:"watercolor"})})]});function pe(){return new H({target:"map",controls:G().extend([new J,me,new se,new ae,new ie,new ne,new le,new re,new oe,new ce,new de,new ue]),view:new X({center:[994904.36016,5775887605341e-6],zoom:10})})}new T;function V(t,a,s,i){return new f({source:new F({url:a,params:{LAYERS:t,TILED:!0,STYLES:i},crossOrigin:"anonymous",serverType:"geoserver"}),visible:!1,opacity:s})}function W(t,a){return t[a.name]={},t[a.name].workspace=a.workspace,t[a.name].typology=a.typology,t[a.name].crs=a.crs,t[a.name].sensor=a.sensor,t[a.name].timeComplete=[a.timeComplete],t[a.name].timeFormatted=[a.timeFormatted],t[a.name].level=a.level,t[a.name].layer=[a.layer],t}function _e(t,a,s){let i=Object.keys(a),e={};return e.static={},e.time={},e.basemap={},t.forEach(l=>{let r={},o=l.Name.split(":");if(r.workspace=o[0],r.name=o[1].split("_").slice(0,3).join("_"),r.sensor=o[1].split("_")[0],r.typology=o[1].split("_")[1],r.crs=o[1].split("_")[2],o[1].split("_")[3]!=null){r.timeComplete=o[1].split("_")[3];let d=o[1].split("_")[3].split("T")[0];r.timeFormatted=d.slice(0,4)+"-"+d.slice(4,6)+"-"+d.slice(6,8)}else r.timeComplete=void 0,r.timeFormatted=void 0;r.level=o[1].split("_")[4];let c="";i.includes(r.typology)&&(c=r.typology.toLowerCase()),r.layer=V(l.Name,s,.5,c),r.timeComplete!=null?r.name in e.time?(r.layer=V(l.Name,s,1,c),e.time[r.name].timeComplete.push(r.timeComplete),e.time[r.name].timeFormatted.push(r.timeFormatted),e.time[r.name].layer.push(r.layer)):(r.layer=V(l.Name,s,1),e.time=W(e.time,r)):e.static=W(e.static,r)}),e}function ge(t){let a={watercolor:{title:"watercolor",source:"Stamen",layer:[new f({source:new C({layer:"watercolor"}),visible:!1})]},terrain:{title:"terrain",source:"Stamen",layer:[new f({source:new C({layer:"terrain"}),visible:!1})]},toner:{title:"toner",source:"Stamen",layer:[new f({source:new C({layer:"toner"}),visible:!1})]},osm:{title:"osm",layer:[new f({source:new k,visible:!0})]}};return t.basemap=a,t}function ye(t){let a={},s=[],i=[],e=[],l=[],r=[];for(let o in t)if(o=="time")for(let c in t[o]){let d=t[o][c].layer;r.push(new B({layers:d,visible:!0,opacity:.5}))}else{for(let c in t[o])o=="basemap"?s.push(t[o][c].layer[0]):o=="static"&&i.push(t[o][c].layer[0]);l[0]=new B({layers:i,visible:!0,opacity:1}),e[0]=new B({layers:s,visible:!0,opacity:1})}return a.basemap=e,a.static=l,a.time=r,a}var y=(t,a)=>{const s=t.__vccOpts||t;for(const[i,e]of a)s[i]=e;return s};const be={name:"Layer",props:{child_msg:{type:String,default:"Layer Panel"},layer_list:{type:Object}},data(){return{}},methods:{setLayerVisible(t,a){this.$emit("setLayerVisible",{nGroup:t,index:a})},setLayerOpacity(t,a,s){let i=t.target.value;this.$emit("setLayerOpacity",{opacity:i,nGroup:a,index:s})},setLayerMetadata(t,a){this.$emit("setLayerMetadata",{layerType:t,layerName:a})}}},v=t=>(E("data-v-1b25468b"),t=t(),S(),t),Ae={id:"layerPanel",class:"layer-panel ol-unselectable ol-control"},ve=v(()=>n("h6",{class:"static-layers-title"},[n("i",{class:"bi bi-arrow-right"}),g("Static Layers")],-1)),he={class:"static-layers active",id:"staticLayers"},fe={class:"layer-items"},we=["onChange"],Ce={class:"title-layer"},xe=["title"],Le=v(()=>n("div",{class:"dwnld-layer"},[n("i",{class:"bi bi-box-arrow-down"})],-1)),Ee=["onClick"],Se=v(()=>n("i",{class:"bi bi-info-square"},null,-1)),Be=[Se],Me=v(()=>n("div",{class:"opct-layer"},[n("i",{class:"bi bi-circle-half"})],-1)),Ie={class:"opct-range-layer"},Pe=["onChange"],Ne=v(()=>n("h6",{class:"time-series-layers-title"},[n("i",{class:"bi bi-arrow-right"}),g("Time Series Layers")],-1)),Ve={class:"time-series-layers active",id:"timeSeriesLayers"},ke={class:"layer-items"},Te=["onChange"],De={class:"title-layer"},We=["title"],Qe=v(()=>n("div",{class:"dwnld-layer"},[n("i",{class:"bi bi-box-arrow-down"})],-1)),Oe=["onClick"],je=v(()=>n("i",{class:"bi bi-info-square"},null,-1)),Ye=[je],He=v(()=>n("div",{class:"opct-layer"},[n("i",{class:"bi bi-circle-half"})],-1)),Ge={class:"opct-range-layer"},Je=["onChange"];function Xe(t,a,s,i,e,l){return m(),_("div",Ae,[g(u(s.child_msg)+" ",1),ve,n("div",he,[(m(!0),_(x,null,L(s.layer_list.static,(r,o,c)=>(m(),_("div",{class:"static-layer layer-list",key:r.static},[n("div",fe,[n("div",{class:M("chckbx-layer layer-static-"+c)},[n("input",{type:"checkbox",title:"set visible",name:"",id:"",onChange:d=>l.setLayerVisible(1,c)},null,40,we)],2),n("div",Ce,[n("p",{title:o},u(o),9,xe)]),Le,n("div",{class:"info-layer",onClick:d=>l.setLayerMetadata("static",{key:o})},Be,8,Ee),Me,n("div",Ie,[n("input",{type:"range",name:"",id:"",min:"0",max:"1",step:"0.01",value:"0.5",onChange:d=>l.setLayerOpacity(d,1,c)},null,40,Pe)])])]))),128))]),Ne,n("div",Ve,[(m(!0),_(x,null,L(s.layer_list.time,(r,o,c)=>(m(),_("div",{class:"time-series-layer layer-list",key:r.time},[n("div",ke,[n("div",{class:M("chckbx-layer layer-timeSeries-"+c)},[n("input",{type:"checkbox",title:"set visible",name:"",id:"",onChange:d=>l.setLayerVisible(2,c)},null,40,Te)],2),n("div",De,[n("p",{title:o},u(o),9,We)]),Qe,n("div",{class:"info-layer",onClick:d=>l.setLayerMetadata("time",{key:o})},Ye,8,Oe),He,n("div",Ge,[n("input",{type:"range",name:"",id:"",min:"0",max:"1",step:"0.01",value:"0.5",onChange:d=>l.setLayerOpacity(d,2,c)},null,40,Je)])])]))),128))])])}var $e=y(be,[["render",Xe],["__scopeId","data-v-1b25468b"]]);const Fe={name:"Layer",props:{child_msg:{type:String,required:!0,default:"Metadata Panel"},title:{type:String,required:!0,default:"Title"},abstract:{type:String,required:!0,default:"Select a layer"},typology:{type:String,required:!0,default:"N/A"},units:{type:String,required:!0,default:"N/A"},crs:{type:String,required:!0,default:"N/A"},to:{type:String,required:!0,default:"N/A"},tf:{type:String,required:!0,default:"N/A"},legend:{type:String,required:!0,default:"N/A"}},data(){return{}}},A=t=>(E("data-v-1728e34c"),t=t(),S(),t),qe={id:"metadataPanel",class:"metadata-panel ol-unselectable ol-control"},ze={class:"meta-title"},Ke={class:"meta-abstract"},Re=A(()=>n("strong",null,"Abstract:",-1)),Ze={class:"meta-info"},Ue={class:"meta-details"},et={class:"meta-details-typology"},tt=A(()=>n("strong",null,"Typology:",-1)),st={class:"meta-details-units"},at=A(()=>n("strong",null,"Units:",-1)),it={class:"meta-details-crs"},nt=A(()=>n("strong",null,"CRS:",-1)),lt={class:"meta-details-tstart"},rt=A(()=>n("strong",null,"Time Start:",-1)),ot=A(()=>n("br",null,null,-1)),ct={class:"meta-details-tend"},dt=A(()=>n("strong",null,"Time end:",-1)),ut=A(()=>n("br",null,null,-1)),mt={class:"meta-legend"},pt=A(()=>n("strong",null,"Legend:",-1)),_t=["src"];function gt(t,a,s,i,e,l){return m(),_("div",qe,[g(u(s.child_msg)+" ",1),n("div",ze,[n("h6",null,u(s.title),1)]),n("div",Ke,[Re,g(u(s.abstract),1)]),n("div",Ze,[n("div",Ue,[n("div",et,[tt,g(u(s.typology),1)]),n("div",st,[at,g(" ["+u(s.units)+"]",1)]),n("div",it,[nt,g(u(s.crs),1)]),n("div",lt,[rt,ot,g(u(s.to),1)]),n("div",ct,[dt,ut,g(u(s.tf),1)])]),n("div",mt,[pt,n("img",{src:s.legend,alt:""},null,8,_t)])])])}var yt=y(Fe,[["render",gt],["__scopeId","data-v-1728e34c"]]);const bt={name:"Time",props:{child_msg:{type:String,default:"Time Panel"},title:{type:String,required:!0,default:"Select Layer"},datesList:{type:Object,required:!0,default:()=>({"0":"Select TS"})},datesListLength:{type:String,required:!0},currentDate:{type:String,required:!0},currentDateIndex:{type:String,required:!0},currentGroup:{type:String,required:!0}},data(){return{}}},At={id:"timePanel",class:"time-panel ol-unselectable ol-control"},vt={class:"time-container"},ht={class:"time-header"},ft=q('<div class="time-controls" data-v-492c2bec><div class="time-controls-dates" data-v-492c2bec><select name="" id="" data-v-492c2bec><option value="1" data-v-492c2bec>Select WQP...</option></select></div><div class="time-slider" data-v-492c2bec><input type="range" name="" id="" data-v-492c2bec></div><div id="time-controls-backward" class="time-controls_item ol-unselectable ol-control" data-v-492c2bec><button data-v-492c2bec><i class="bi bi-skip-backward-circle" data-v-492c2bec></i></button></div><div id="time-controls-play" class="time-controls_item ol-unselectable ol-control" data-v-492c2bec><div data-v-492c2bec><button data-v-492c2bec><i class="bi bi-play-circle" data-v-492c2bec></i></button></div></div><div id="time-controls-forward" class="time-controls_item ol-unselectable ol-control" data-v-492c2bec><button data-v-492c2bec><i class="bi bi-skip-forward-circle" data-v-492c2bec></i></button></div></div>',1);function wt(t,a,s,i,e,l){return m(),_("div",At,[n("p",null,u(s.child_msg),1),n("div",vt,[n("div",ht,u(s.title)+" - "+u(s.currentDate),1),ft])])}var Ct=y(bt,[["render",wt],["__scopeId","data-v-492c2bec"]]),xt="/assets/osm.d6d13acb.png",Lt="/assets/terrain.d843a7bb.png",Et="/assets/watercolor.8d0c5f2f.png",St="/assets/toner.19bbfbf8.png",Bt="data:image/png;base64,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";const Mt={name:"Basemap",props:{child_msg:{type:String,default:"Basemap Panel"},data:{type:Array}},data(){return{}},methods:{getImage(t){if(t=="osm")return xt;if(t=="terrain")return Lt;if(t=="watercolor")return Et;if(t=="toner")return St;if(t=="none")return Bt}}},It={id:"basemapPanel",class:"basemap-panel ol-unselectable ol-control"},Pt={class:"basemap-container"},Nt=["id","checked"],Vt=["src"];function kt(t,a,s,i,e,l){return m(),_("div",It,[n("p",null,u(s.child_msg),1),n("div",Pt,[(m(!0),_(x,null,L(s.data,r=>(m(),_("div",{key:r.layer,class:"basemap-container_item"},[n("div",null,[n("input",{type:"radio",name:"basemap-radio",id:r.layer+"-option",class:M("basemap-option"),checked:r.active},null,8,Nt),n("p",null,u(r.layer),1)]),n("img",{src:l.getImage(r.layer),alt:""},null,8,Vt)]))),128))])])}var Tt=y(Mt,[["render",kt],["__scopeId","data-v-927fb79a"]]);const Dt={name:"Plot",props:{child_msg:{type:String,default:"Plot Panel"}},data(){return{}}},Wt={id:"plotPanel",class:"plot-panel ol-unselectable ol-control"};function Qt(t,a,s,i,e,l){return m(),_("div",Wt,u(s.child_msg),1)}var Ot=y(Dt,[["render",Qt],["__scopeId","data-v-1eb5ca25"]]),jt="/assets/i1.39c6eac4.png",Yt="/assets/i2.52627267.png",Ht="/assets/i3.e76ce568.png",Gt="/assets/i4.df51a994.png",Jt="/assets/i5.9255129d.png",Xt="/assets/i6.c99fefa1.png",$t="/assets/i7.1425b493.png";const Ft={data(){return{}},methods:{prev(){this.$emit("prev")},next(){this.$emit("next")}}},Q=t=>(E("data-v-07c985f2"),t=t(),S(),t),qt={class:"carousel-container"},zt=Q(()=>n("i",{class:"bi bi-caret-left-fill"},null,-1)),Kt=[zt],Rt=Q(()=>n("i",{class:"bi bi-caret-right-fill"},null,-1)),Zt=[Rt];function Ut(t,a,s,i,e,l){return m(),_("div",qt,[D(t.$slots,"default",{},void 0,!0),n("button",{class:"prev",onClick:a[0]||(a[0]=(...r)=>l.prev&&l.prev(...r))},Kt),n("button",{class:"next",onClick:a[1]||(a[1]=(...r)=>l.next&&l.next(...r))},Zt)])}var es=y(Ft,[["render",Ut],["__scopeId","data-v-07c985f2"]]);const ts={props:["visibleSlide","index","direction"],data(){return{}}},ss={class:"carousel-slide"};function as(t,a,s,i,e,l){return m(),I(R,{name:s.direction},{default:P(()=>[z(n("div",ss,[D(t.$slots,"default",{},void 0,!0)],512),[[K,s.visibleSlide===s.index]])]),_:3},8,["name"])}var is=y(ts,[["render",as],["__scopeId","data-v-664b1638"]]);const ns={name:"Slide",props:{child_msg:{type:String,default:"Slide Panel"},settings:{type:Object}},data(){return{visibleSlide:0,direction:""}},computed:{slidesLen(){return this.settings.slides.length}},methods:{prev(){this.visibleSlide<=0?this.visibleSlide=this.slidesLen-1:this.visibleSlide--,this.direction="right"},next(){this.visibleSlide>=this.slidesLen-1?this.visibleSlide=0:this.visibleSlide++,this.direction="left"},getImage(t){if(t=="i1.png")return jt;if(t=="i2.png")return Yt;if(t=="i3.png")return Ht;if(t=="i4.png")return Gt;if(t=="i5.png")return Jt;if(t=="i6.png")return Xt;if(t=="i7.png")return $t}},mounted(){},components:{CarouselContainer:es,CarouselSlide:is}},ls=t=>(E("data-v-339db63c"),t=t(),S(),t),rs={id:"slidePanel",class:"slide-panel ol-unselectable ol-control",style:{display:"none"}},os={class:"slidepanel-show"},cs={class:"slide-title"},ds={class:"slide-description"},us=["src","alt"],ms=ls(()=>n("div",{class:"slide-current"},null,-1));function ps(t,a,s,i,e,l){const r=b("carousel-slide"),o=b("carousel-container");return m(),_("div",rs,[g(u(s.child_msg)+" ",1),n("div",os,[h(o,{onPrev:l.prev,onNext:l.next},{default:P(()=>[(m(!0),_(x,null,L(s.settings.slides,(c,d)=>(m(),I(r,{key:c,index:d,visibleSlide:e.visibleSlide,direction:e.direction},{default:P(()=>[n("div",cs,u(c.title),1),n("div",ds,u(c.description),1),n("img",{src:l.getImage(c.src),alt:d},null,8,us)]),_:2},1032,["index","visibleSlide","direction"]))),128))]),_:1},8,["onPrev","onNext"])]),ms])}var _s=y(ns,[["render",ps],["__scopeId","data-v-339db63c"]]);const gs=new T,ys={name:"WebGISContainer",data(){return{basemap_settings:this.settings.basemaps,layer_list:{},layer_groups:{},map:{},title:"Select a Layer",abstract:"N/A",to:"N/A",tf:"N/A",crs:"N/A",units:"N/A",legend:"N/A",datesList:{},currentGroup:"",currentDate:"",currentDateIndex:"",datesListLength:""}},props:{settings:{type:Object,required:!0}},components:{layerPanel:$e,metadataPanel:yt,timePanel:Ct,basemapPanel:Tt,plotPanel:Ot,slidePanel:_s},methods:{setLayerVisible(t){let a=t.index,s=t.nGroup;if(s<=1){let i=this.map.getLayers().array_[s].values_.layers.array_[a].getVisible();this.map.getLayers().array_[s].values_.layers.array_[a].setVisible(!i)}else{let e=this.map.getLayers().array_[s+a].values_.layers.array_.length-1,l=this.map.getLayers().array_[s+a].values_.layers.array_[e].getVisible();this.map.getLayers().array_[s+a].values_.layers.array_[e].setVisible(!l)}},setLayerOpacity(t){let a=t.opacity,s=t.index,i=t.nGroup;if(i<=1)this.map.getLayers().array_[i].values_.layers.array_[s].getVisible()==!0?(this.map.getLayers().array_[i].values_.layers.array_[s].setVisible(!1),this.map.getLayers().array_[i].values_.layers.array_[s].values_.opacity=a,this.map.getLayers().array_[i].values_.layers.array_[s].setVisible(!0)):this.map.getLayers().array_[i].values_.layers.array_[s].values_.opacity=a;else{let e=this.map.getLayers().array_[i+s];e.getVisible()==!0?(e.setVisible(!1),e.values_.opacity=a,e.setVisible(!0)):e.values_.opacity=a}},setLayerMetadata(t){let a=t.layerType,s=t.layerName.key,i=this.layer_list[a][s];if(this.title=s,console.log(i),a=="time"){let e=i.typology,l=i.timeFormatted;this.abstract=this.settings.typology[e].abstract,this.units=this.settings.typology[e].units,this.crs=i.crs,this.legend=i.layer[0].values_.source.getLegendUrl(),this.to=l[0],this.tf=l[l.length-1],this.datesList=this.layer_list.time[s].timeFormatted,this.currentDate=this.datesList[Object.keys(this.datesList).length-1],this.currentDateIndex=Object.keys(this.datesList).length,this.datesListLength=Object.keys(this.datesList).length,this.currentGroup=Object.keys(this.layer_list.time).indexOf(s)}}},mounted(){this.basemap_settings=this.settings.basemaps,Z.get(this.settings.urlWMSget).then(t=>{let s=gs.read(t.data).Capability.Layer.Layer,i=_e(s,this.settings.typology,this.settings.urlWMS),e=ge(i),l=ye(e);return this.layer_list=i,this.layer_group=l,l}).then(t=>{const a=pe();for(let s in t)for(let i in t[s])a.addLayer(t[s][i]);this.map=a}).catch(t=>console.log(t))}},bs=n("div",{id:"map",class:"map"},null,-1),As=n("div",{id:"popup",class:"popup ol-unselectable ol-control"},null,-1);function vs(t,a,s,i,e,l){const r=b("layerPanel"),o=b("metadataPanel"),c=b("timePanel"),d=b("basemapPanel"),O=b("slidePanel"),j=b("plotPanel");return m(),_("div",null,[bs,h(r,{child_msg:"Layer-Panel",layer_list:e.layer_list,onSetLayerVisible:l.setLayerVisible,onSetLayerOpacity:l.setLayerOpacity,onSetLayerMetadata:l.setLayerMetadata},null,8,["layer_list","onSetLayerVisible","onSetLayerOpacity","onSetLayerMetadata"]),h(o,{child_msg:"Metadata-Panel",settings:s.settings,title:e.title,abstract:e.abstract,to:e.to,tf:e.tf,units:e.units,crs:e.crs,legend:e.legend},null,8,["settings","title","abstract","to","tf","units","crs","legend"]),h(c,{child_msg:"Time-Panel",title:e.title,datesList:e.datesList,datesListLength:e.datesListLength,currentDate:e.currentDate,currentDateIndex:e.currentDateIndex,currentGroup:e.currentGroup,onUpdateLayerSlider:t.setLayerVisibleTS,onUpdateLayerDropdown:t.setLayerVisibleTS,onStepBackwards:t.setLayerVisibleTS,onStepForwards:t.setLayerVisibleTS},null,8,["title","datesList","datesListLength","currentDate","currentDateIndex","currentGroup","onUpdateLayerSlider","onUpdateLayerDropdown","onStepBackwards","onStepForwards"]),h(d,{child_msg:"Basemap-Panel",data:e.basemap_settings},null,8,["data"]),h(O,{child_msg:"Slide-Panel",settings:s.settings},null,8,["settings"]),h(j,{child_msg:"Plot-Panel"}),As])}var hs=y(ys,[["render",vs]]);const fs={urlWMS:"http://127.0.0.1/geoserver/geonode/wms",urlWMSget:"http://127.0.0.1/geoserver/ows?service=wms&version=1.3.0&request=GetCapabilities",typology:{CHL:{title:"Chlorophyll-a",abstract:"Chlorophyll-a allows plants to photosintezise. This measurement is used to classify the trophic conditionof a water body. The Chlorophyll-a maps presented have been processed using the Sentinel-3 OLCI sensor",style:"chl",units:"mg/m3"},TSM:{title:"Total Suspended Matter",abstract:"Total suspended matter concentration",style:"tsm",units:"mg/m3"},LSWT:{title:"Lake Surface Water Temperature",abstract:"Average lake surface temperature",style:"lswt",units:"\xB0C"}},basemaps:[{layer:"osm",source:"osm",src:"osm.png",active:!0},{layer:"watercolor",source:"stamen",src:"watercolor.png",active:!1},{layer:"terrain",source:"terrain-labels",src:"terrain.png",active:!1},{layer:"toner",source:"toner",src:"toner.png",active:!1},{layer:"none",source:"none",src:"none.png",active:!1}],slides:[{title:"Welcome!",src:"i1.png",description:"1. SIMILE WebGIS enables the visualization of the water quality parameters (WQPs) maps produced for Lakes Maggiore, Lugano and Como."},{title:"Explore the different tools",src:"i2.png",description:"2. The WebGIS presents multtiple panels allowing to explore the different water quality parameters maps"},{title:"Visualize and explore the WQP",src:"i3.png",description:"3. Review the different components allowing the visualization of the maps, such as the layer panel, metadata panel and time controller"},{title:"Observe the evolution of the time series",src:"i4.png",description:"4. Use the time manager to observe the changes of the parameters in time."},{title:"Observe the evolution of the time series",src:"i5.png",description:"4. Use the time manager to observe the changes of the parameters in time."},{title:"Change the basemap",src:"i6.png",description:"5. Customize the view of the WebGIS by using different basemaps"},{title:"Explore the guide",src:"i7.png",description:"6. Review the guide for the WebGIS"}]};const ws={name:"App",data(){return{settings:fs}},components:{WebGISContainer:hs}};function Cs(t,a,s,i,e,l){const r=b("WebGISContainer");return m(),I(r,{settings:e.settings,layer:t.layer_list},null,8,["settings","layer"])}var xs=y(ws,[["render",Cs],["__scopeId","data-v-1bf46334"]]);U(xs).mount("#app");
//# sourceMappingURL=index.b2685e63.js.map
