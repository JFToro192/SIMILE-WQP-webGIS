{"version":3,"file":"index.736dfcf6.js","sources":["../../../ol-project/vite/modulepreload-polyfill","../../../ol-project/src/assets/img/assev_simile.png","../../../ol-project/src/assets/js/controlFunctions.js","../../../ol-project/src/assets/js/controlCreate.js","../../../ol-project/src/assets/js/panelCreate.js","../../../ol-project/src/assets/js/map.js","../../../ol-project/src/assets/js/requestLayers.js","../../../ol-project/plugin-vue:export-helper","../../../ol-project/src/components/panels/LayerPanel.vue","../../../ol-project/src/components/panels/MetadataPanel.vue","../../../ol-project/src/components/panels/TimePanel.vue","../../../ol-project/src/assets/img/basemap/osm.png","../../../ol-project/src/assets/img/basemap/terrain.png","../../../ol-project/src/assets/img/basemap/watercolor.png","../../../ol-project/src/assets/img/basemap/toner.png","../../../ol-project/src/assets/img/basemap/none.png","../../../ol-project/src/components/panels/BasemapPanel.vue","../../../ol-project/src/components/panels/PlotPanel.vue","../../../ol-project/src/assets/img/slides/i1.png","../../../ol-project/src/assets/img/slides/i2.png","../../../ol-project/src/assets/img/slides/i3.png","../../../ol-project/src/assets/img/slides/i4.png","../../../ol-project/src/assets/img/slides/i5.png","../../../ol-project/src/assets/img/slides/i6.png","../../../ol-project/src/assets/img/slides/i7.png","../../../ol-project/src/components/panels/slideShow/CarouselContainer.vue","../../../ol-project/src/components/panels/slideShow/CarouselSlide.vue","../../../ol-project/src/components/panels/SlidePanel.vue","../../../ol-project/src/components/WebGISContainer.vue","../../../ol-project/src/assets/js/settings.js","../../../ol-project/src/App.vue","../../../ol-project/src/main.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export default \"__VITE_ASSET__d3f83cf6__\"","function openList()\r\n{\r\n    const className = '.'+this.element.classList[0];\r\n    const classItem = '.'+className.split(\"-\")[1] + '-item';\r\n    const element = $(className)\r\n    if (element.hasClass('active')) {\r\n        $(`${classItem}`).slice(0).hide();\r\n        element.removeClass('active');}\r\n    else{\r\n        $(`${classItem}`).slice(0).show();\r\n        element.addClass('active');\r\n    }   \r\n}\r\n\r\nfunction openPanel() {\r\n    const className = '.'+this.element.classList[0];\r\n    const classItem = '.'+className.split(\"-\")[1] + '-panel';\r\n    const elementButton = $(className)\r\n    const elementPanel = $(classItem)\r\n    if (elementPanel.hasClass('active')) {\r\n        elementPanel.hide();\r\n        elementButton.removeClass('active');\r\n        elementPanel.removeClass('active');\r\n    }\r\n    else{\r\n        elementPanel.show();\r\n        elementButton.addClass('active');\r\n        elementPanel.addClass('active');\r\n    }   \r\n}\r\n\r\nexport {\r\n    openList,\r\n    openPanel,\r\n}","import logoUrl from 'img/assev_simile.png'\r\nimport 'ol/ol.css';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\nimport {Control} from 'ol/control';\r\nimport {openList, openPanel} from '@/assets/js/controlFunctions'\r\n\r\n/* MENU CONTROL */ \r\nclass MenuControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const button = document.createElement('button');\r\n    button.innerHTML = '<i class=\"bi bi-list\"></i>';\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'show-burger ol-unselectable ol-control control-bar active';\r\n    element.appendChild(button);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n\r\n    element.addEventListener('click', openList.bind(this), false);\r\n  }\r\n}\r\n\r\n/* LIST PANEL CONTROL */ \r\nclass LayersControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const button = document.createElement('button');\r\n    button.innerHTML = '<i class=\"bi bi-stack\"></i>';\r\n\r\n    button.title = 'layers panel';\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'show-layer ol-unselectable ol-control control-bar burger-item';\r\n    element.appendChild(button);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n    element.addEventListener('click', openPanel.bind(this), false);\r\n  }\r\n\r\n\r\n}\r\n\r\n/* METADATA PANEL CONTROL */\r\nclass MetadataControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const button = document.createElement('button');\r\n    button.innerHTML = '<i class=\"bi bi-info-square\"></i>';\r\n\r\n    button.title = 'metadata panel';\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'show-metadata ol-unselectable ol-control control-bar burger-item';\r\n    element.appendChild(button);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n    element.addEventListener('click', openPanel.bind(this), false);\r\n  }\r\n}\r\n\r\n/* TIME PANEL CONTROL */\r\nclass TimeControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const button = document.createElement('button');\r\n    button.innerHTML = '<i class=\"bi bi-clock-history\"></i>';\r\n\r\n    button.title = 'time panel';\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'show-time ol-unselectable ol-control control-bar burger-item';\r\n    element.appendChild(button);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n    element.addEventListener('click', openPanel.bind(this), false);\r\n  }\r\n}\r\n\r\n/* BASEMAP PANEL CONTROL */\r\nclass BaseMapControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const button = document.createElement('button');\r\n    button.innerHTML = '<i class=\"bi bi-map\"></i>';\r\n\r\n    button.title = 'basemaps';\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'show-basemap ol-unselectable ol-control control-bar burger-item';\r\n    element.appendChild(button);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n    element.addEventListener('click', openPanel.bind(this), false);\r\n  }\r\n}\r\n\r\n/* PLOT PANEL CONTROL */\r\nclass PlotControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const button = document.createElement('button');\r\n    button.innerHTML = '<i class=\"bi bi-graph-up\"></i>';\r\n\r\n    button.title = 'plot time series';\r\n\r\n    const element = document.createElement('div');\r\n\r\n    element.className = 'show-plot ol-unselectable ol-control control-bar burger-item';\r\n    element.appendChild(button);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n    element.addEventListener('click', openPanel.bind(this), false);\r\n  }\r\n}\r\n\r\n/* PLOT PANEL CONTROL */\r\nclass SlideControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const button = document.createElement('button');\r\n    button.innerHTML = '<i class=\"bi bi-file-earmark-easel\"></i>';\r\n\r\n    button.title = 'webgis guide';\r\n\r\n    const element = document.createElement('div');\r\n\r\n    element.className = 'show-slide ol-unselectable ol-control control-bar burger-item';\r\n    element.appendChild(button);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n    element.addEventListener('click', openPanel.bind(this), false);\r\n  }\r\n}\r\n\r\n/* SOCIAL MEDIA CONTROLS */ \r\nclass SocialControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const list = document.createElement('ul');\r\n    const item_main = document.createElement('li');\r\n    const item_fb = document.createElement('li');\r\n    const item_tw = document.createElement('li');\r\n    const item_li = document.createElement('li');\r\n    const item_ig = document.createElement('li');\r\n    item_main.innerHTML = '<button><i class=\"bi bi-people\"></i></button>';\r\n    item_fb.innerHTML = '<button class=\"social-item\" style=\"display:none;\"><i class=\"bi bi-facebook\"></i></button>';\r\n    item_tw.innerHTML = '<button class=\"social-item\" style=\"display:none;\"><i class=\"bi bi-twitter\"></i></button>';\r\n    item_li.innerHTML = '<button class=\"social-item\" style=\"display:none;\"><i class=\"bi bi-linkedin\"></i></button>';\r\n    item_ig.innerHTML = '<button class=\"social-item\" style=\"display:none;\"><i class=\"bi bi-instagram\"></i></button>';\r\n\r\n    item_main.title = 'social';\r\n    item_fb.title = 'facebook';\r\n    item_tw.title = 'twitter';\r\n    item_li.title = 'linkedin';\r\n    item_ig.title = 'instagram';\r\n\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'show-social ol-unselectable ol-control control-bar burger-item';\r\n    list.appendChild(item_main);\r\n    list.appendChild(item_fb);\r\n    list.appendChild(item_tw);\r\n    list.appendChild(item_li);\r\n    list.appendChild(item_ig);\r\n    element.appendChild(list);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n\r\n    item_main.addEventListener('click', openList.bind(this), false);\r\n  }\r\n}\r\n\r\n/* ABOUT PROJECT CONTROLS */ \r\nclass AboutControl extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const list = document.createElement('ul');\r\n    const item_main = document.createElement('li');\r\n    const item_news = document.createElement('li');\r\n    const item_business = document.createElement('li');\r\n    const item_gh = document.createElement('li');\r\n    const item_calendar = document.createElement('li');\r\n    item_main.innerHTML = '<button ><i class=\"bi bi-journals\"></i></button>';\r\n    item_news.innerHTML = '<button class=\"about-item\" style=\"display:none;\"><i class=\"bi bi-newspaper\"></i></button>';\r\n    item_business.innerHTML = '<button class=\"about-item\" style=\"display:none;\"><i class=\"bi bi-briefcase\"></i></button>';\r\n    item_gh.innerHTML = '<button class=\"about-item\" style=\"display:none;\"><i class=\"bi bi-github\"></i></button>';\r\n    item_calendar.innerHTML = '<button class=\"about-item\" style=\"display:none;\"><i class=\"bi bi-calendar-week\"></i></button>';\r\n\r\n    item_main.title = 'portfolio';\r\n    item_news.title = 'news';\r\n    item_business.title = 'business intelligence platform';\r\n    item_gh.title = 'webgis github repository';\r\n    item_calendar.title = 'calendar';\r\n\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'show-about ol-unselectable ol-control control-bar burger-item';\r\n    list.appendChild(item_main);\r\n    list.appendChild(item_news);\r\n    list.appendChild(item_business);\r\n    list.appendChild(item_gh);\r\n    list.appendChild(item_calendar);\r\n    element.appendChild(list);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n\r\n    item_main.addEventListener('click', openList.bind(this), false);\r\n  }\r\n}\r\n\r\n/* STATIC PROJECT LOGO */ \r\nclass ProjectLogo extends Control {\r\n  /**\r\n   * @param {Object} [opt_options] Control options.\r\n   */\r\n  constructor(opt_options) {\r\n    const options = opt_options || {};\r\n\r\n    const div = document.createElement('div');\r\n    const a = document.createElement('a');\r\n    a.href = \"https://www.progetti.interreg-italiasvizzera.eu/it/b/78/sistemainformativoperilmonitoraggiointegratodeilaghiinsubriciedeiloroe\";\r\n    const img = document.createElement('img');\r\n    img.src = logoUrl;\r\n    img.alt = 'logo-simile-interreg';\r\n    a.appendChild(img);\r\n    div.appendChild(a);\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'project-logo ol-unselectable ol-control';\r\n    element.appendChild(div);\r\n\r\n    super({\r\n      element: element,\r\n      target: options.target,\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport {MenuControl, \r\n        LayersControl, \r\n        MetadataControl, \r\n        TimeControl, \r\n        BaseMapControl, \r\n        PlotControl,\r\n        SlideControl,\r\n        SocialControl,\r\n        AboutControl,\r\n        ProjectLogo\r\n      }","import Control from 'ol/control/Control';\r\n\r\n\r\nconst layerPanel = new Control({\r\n  element: document.getElementById('layerPanel'),\r\n});\r\n\r\nconst metadataPanel = new Control({\r\n  element: document.getElementById('metadataPanel'),\r\n});\r\n\r\nconst timePanel = new Control({\r\n  element: document.getElementById('timePanel'),\r\n});\r\n\r\nconst basemapPanel = new Control({\r\n  element: document.getElementById('basemapPanel'),\r\n});\r\n\r\nconst plotPanel = new Control({\r\n  element: document.getElementById('plotPanel'),\r\n});\r\n\r\nconst slidePanel = new Control({\r\n  element: document.getElementById('slidePanel'),\r\n});\r\n\r\nconst popup = new Control({\r\n    element: document.getElementById('popup'),\r\n  });\r\n\r\n\r\nexport {\r\n    layerPanel,\r\n    metadataPanel,\r\n    timePanel,\r\n    basemapPanel,\r\n    plotPanel,\r\n    slidePanel,\r\n    popup,\r\n}","import {MenuControl,\n\t\tLayersControl,\n\t\tMetadataControl,\n\t\tTimeControl,\n\t\tBaseMapControl,\n\t\tPlotControl,\n\t\tSlideControl,\n\t\tSocialControl,\n\t\tAboutControl,\n\t\tProjectLogo} from 'js/controlCreate';\nimport {layerPanel,\n\t\tmetadataPanel,\n\t\ttimePanel,\n\t\tbasemapPanel,\n\t\tplotPanel,\n\t\tslidePanel,\n\t\tpopup} from 'js/panelCreate';\nimport {Map, View} from 'ol';\nimport 'ol/ol.css';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport {fromLonLat, toLonLat} from 'ol/proj';\nimport {toStringHDMS} from 'ol/coordinate';\nimport Stamen from 'ol/source/Stamen';\nimport { OverviewMap,ScaleLine, FullScreen, defaults as defaultControls} from 'ol/control';\nimport { getMapboxPath } from 'ol/layer/MapboxVector';\n\n// Basemaps Layers Group\n\n\nconst osm = new OSM();\n\nconst overviewMapControl = new OverviewMap({\nlayers: [\n\tnew TileLayer({\n\tsource: osm\n\t}),\n],\n});\n\nfunction addMap() {\n\tconst map = new Map({\n\t\ttarget: 'map',\n\t\t// TODO: Define controllers panel as constructors to make them native components to the OL map object\n\t\tcontrols: defaultControls()\n\t\t\t\t\t.extend([new ScaleLine(),\n\t\t\t\t\t\t\t// new FullScreen(),\n\t\t\t\t\t\t\toverviewMapControl,\n\t\t\t\t\t\t\tnew MenuControl(),\n\t\t\t\t\t\t\tnew LayersControl(),\n\t\t\t\t\t\t\t// layerPanel,\n\t\t\t\t\t\t\tnew MetadataControl(),\n\t\t\t\t\t\t\t// metadataPanel,\n\t\t\t\t\t\t\tnew TimeControl(),\n\t\t\t\t\t\t\t// timePanel,\n\t\t\t\t\t\t\tnew BaseMapControl(),\n\t\t\t\t\t\t\t// basemapPanel,\n\t\t\t\t\t\t\tnew PlotControl(),\n\t\t\t\t\t\t\t// plotPanel,\n\t\t\t\t\t\t\t// slidePanel,\n\t\t\t\t\t\t\tnew SlideControl(),\n\t\t\t\t\t\t\tnew SocialControl(),\n\t\t\t\t\t\t\tnew AboutControl(),\n\t\t\t\t\t\t\tnew ProjectLogo(),\n\t\t\t\t\t]),\n\t\tview: new View({\n\t\t\tcenter: [994904.360160,5775887.605341],\n\t\t\tzoom: 10\n\t\t})\n\t});\n\treturn map\n}\n\nexport {\n\taddMap,\n}\n","import axios from \"axios\"\r\nimport WMSCapabilities from 'ol/format/WMSCapabilities';\r\n// Import OL functions\r\nimport {Group as LayerGroup, Tile as TileLayer} from 'ol/layer';\r\nimport TileWMS from 'ol/source/TileWMS';\r\n// Import OL basemap sources\r\nimport OSM from 'ol/source/OSM';\r\nimport Stamen from 'ol/source/Stamen';\r\n// XML parser\r\nconst parser = new WMSCapabilities();\r\n\r\nfunction getLayersWMS(urlWMS) {\r\n    axios.get(urlWMS)\r\n    .then(response => {\r\n        let capabilities = parser.read(response.data)\r\n        let layers = capabilities.Capability.Layer.Layer\r\n        let group = organizeLayers(layers)\r\n        return group\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nfunction createTileWMS(layerName, url,opacityValue,styleValue) {\r\n    let tileWMS = new TileLayer({\r\n        source: new TileWMS({\r\n        url: url,\r\n        params: {'LAYERS': layerName, 'TILED': true, 'STYLES':styleValue},\r\n        crossOrigin: 'anonymous',\r\n        serverType: 'geoserver',\r\n        }),\r\n        visible:false,\r\n        opacity:opacityValue,\r\n    })\r\n    return tileWMS\r\n}\r\n\r\nfunction createDictLayers(layersDict,item){\r\n    layersDict[item.name] = {};\r\n    layersDict[item.name].workspace = item.workspace;\r\n    layersDict[item.name].typology = item.typology;\r\n    layersDict[item.name].crs = item.crs;\r\n    layersDict[item.name].sensor = item.sensor;\r\n    layersDict[item.name].timeComplete = [item.timeComplete];\r\n    layersDict[item.name].timeFormatted = [item.timeFormatted];\r\n    layersDict[item.name].level = item.level;//Not always the same. TODO: double check in naming\r\n    layersDict[item.name].layer= [item.layer];\r\n    return layersDict;\r\n}\r\n\r\nfunction organizeLayers(layers,typologies,url) {\r\n    // Available styles for layer typology\r\n    let tp = Object.keys(typologies)\r\n    // Create the dictionary for the groups of layers\r\n    let layers_dict = {}\r\n    layers_dict.static = {}\r\n    layers_dict.time = {}\r\n    layers_dict.basemap = {}\r\n    // Organize the layers in the dictionary\r\n    layers.forEach(element => {\r\n    let item = {}\r\n    let arr = element.Name.split(':')\r\n    // Extract info from name.\r\n    // TODO: add exceptions for the irregular name formatting\r\n    item.workspace = arr[0]\r\n    item.name = arr[1].split('_').slice(0,3).join('_');\r\n    item.sensor = arr[1].split('_')[0]\r\n    item.typology = arr[1].split('_')[1]\r\n    item.crs = arr[1].split('_')[2]\r\n    if (arr[1].split('_')[3]!=undefined) {\r\n        item.timeComplete = arr[1].split('_')[3];\r\n        let t = arr[1].split('_')[3].split('T')[0]\r\n        item.timeFormatted = t.slice(0,4)+'-'+t.slice(4,6)+'-'+t.slice(6,8);\r\n    } else {\r\n        item.timeComplete = undefined\r\n        item.timeFormatted = undefined\r\n    }\r\n    item.level = arr[1].split('_')[4]\r\n    // Define style based on the layers typology\r\n    let styleValue = ''\r\n    if (tp.includes(item.typology)) {\r\n        styleValue = item.typology.toLowerCase()\r\n    }\r\n    item.layer = createTileWMS(element.Name,url,0.5,styleValue)       \r\n    // Assign the items into the corresponding category\r\n    if (item.timeComplete!=undefined){\r\n        if (item.name in layers_dict.time){\r\n        // Override layer opacity for time series display\r\n        item.layer = createTileWMS(element.Name,url,1,styleValue)\r\n        layers_dict.time[item.name].timeComplete.push(item.timeComplete);\r\n        layers_dict.time[item.name].timeFormatted.push(item.timeFormatted);\r\n        layers_dict.time[item.name].layer.push(item.layer);\r\n        }\r\n        else {\r\n        item.layer = createTileWMS(element.Name,url,1)\r\n        layers_dict.time = createDictLayers(layers_dict.time,item);\r\n        }\r\n    }\r\n    else \r\n        layers_dict.static = createDictLayers(layers_dict.static,item);\r\n    });\r\n    // Return the layers list\r\n    return layers_dict\r\n}\r\n\r\n//Temporal function to append the basemaps (add config to the settings file)\r\nfunction basemapLayers(organizedLayers){\r\n    let basemapLayers = {\r\n        osm:{\r\n            title:'osm',\r\n            layer:[new TileLayer({\r\n                source: new OSM(),\r\n                visible: true\r\n            })],\r\n        },\r\n        watercolor:{\r\n            title:'watercolor',\r\n            source:'Stamen',\r\n            layer:[new TileLayer({\r\n                    source: new Stamen({\r\n                        layer: 'watercolor',\r\n                    }),\r\n                    visible:false\r\n                    })]\r\n        },\r\n        terrain:{\r\n            title:'terrain',\r\n            source:'Stamen',\r\n            layer:[new TileLayer({\r\n                    source: new Stamen({\r\n                        layer: 'terrain',\r\n                    }),\r\n                    visible:false\r\n                    })]\r\n        },\r\n        toner:{\r\n            title:'toner',\r\n            source:'Stamen',\r\n            layer:[new TileLayer({\r\n                    source: new Stamen({\r\n                        layer: 'toner',\r\n                    }),\r\n                    visible:false\r\n                    })]\r\n        }\r\n    }\r\n    organizedLayers.basemap = basemapLayers\r\n    return organizedLayers\r\n}\r\n\r\nfunction createLayerGroups(organizedLayers){\r\n    let groups = {}\r\n    let lBasemap = []\r\n    let lStatic = []\r\n    let layersGroupBasemap = []\r\n    let layersGroupStatic = []\r\n    let layersGroup = []\r\n    for (let item in organizedLayers){\r\n        if (item == \"time\") { //Group time layers\r\n            for (let layerDict in organizedLayers[item]){\r\n                let ll = organizedLayers[item][layerDict].layer\r\n                layersGroup.push(new LayerGroup({\r\n                    layers: ll,\r\n                    visible:true,\r\n                    opacity:0.5\r\n                }))\r\n            }        \r\n        } else {\r\n            for (let staticLayer in organizedLayers[item]) {\r\n                if (item == \"basemap\") {\r\n                    lBasemap.push(organizedLayers[item][staticLayer].layer[0])\r\n                } else if (item == \"static\") {\r\n                    lStatic.push(organizedLayers[item][staticLayer].layer[0])\r\n                }\r\n            }\r\n            layersGroupStatic[0] = new LayerGroup({\r\n                layers: lStatic,\r\n                visible:true,\r\n                opacity:1\r\n            })\r\n            layersGroupBasemap[0] = new LayerGroup({\r\n                layers: lBasemap,\r\n                visible:true,\r\n                opacity:1\r\n            })\r\n\r\n        }\r\n    }\r\n    groups['basemap'] = layersGroupBasemap\r\n    groups['static'] = layersGroupStatic\r\n    groups['time'] = layersGroup\r\n    return groups //[basemaps,static,time]\r\n}\r\n\r\nexport {\r\n    getLayersWMS,\r\n    organizeLayers,\r\n    createTileWMS,\r\n    basemapLayers,\r\n    createLayerGroups\r\n}","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\r\n        <div id=\"layerPanel\" class=\"layer-panel ol-unselectable ol-control\">\r\n            {{child_msg}}\r\n            <h6 class=\"static-layers-title\"><i class=\"bi bi-arrow-right\"></i>Static Layers</h6>\r\n            <div class=\"static-layers active\" id=\"staticLayers\">\r\n                <div class=\"static-layer layer-list\" v-for=\"(layer,key,index) in layer_list.static\" :key=\"layer.static\">\r\n                    <div class=\"layer-items\">\r\n                        <div v-bind:class=\"'chckbx-layer layer-static-'+index\">\r\n                            <input  type=\"checkbox\"\r\n                                    title=\"set visible\"\r\n                                    name=\"\" \r\n                                    id=\"\"\r\n                                    v-on:change=\"setLayerVisible(1,index)\">\r\n                        </div>\r\n                        <div class=\"title-layer\"><p v-bind:title=\"key\">{{key}}</p></div>\r\n                        <div class=\"dwnld-layer\"><i class=\"bi bi-box-arrow-down\"></i></div>\r\n                        <div    class=\"info-layer\"\r\n                                v-on:click=\"setLayerMetadata('static',{key})\"><i class=\"bi bi-info-square\"></i>\r\n                        </div>\r\n                        <div  class=\"opct-layer\"><i class=\"bi bi-circle-half\"></i></div>\r\n                        <div class=\"opct-range-layer\">\r\n                            <input  type=\"range\" \r\n                                    name=\"\" \r\n                                    id=\"\"\r\n                                    min=\"0\"\r\n                                    max=\"1\"\r\n                                    step=\"0.01\"\r\n                                    value=\"0.5\"\r\n                                    v-on:change=\"setLayerOpacity($event,1,index)\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <h6 class=\"time-series-layers-title\"><i class=\"bi bi-arrow-right\"></i>Time Series Layers</h6>\r\n            <div class=\"time-series-layers active\" id=\"timeSeriesLayers\">\r\n                <div class=\"time-series-layer layer-list\"  v-for=\"(layer, key, index) in layer_list.time\" :key=\"layer.time\">\r\n                    <div class=\"layer-items\">\r\n                        <div v-bind:class=\"'chckbx-layer layer-timeSeries-'+index\">\r\n                            <input  type=\"checkbox\"\r\n                                    title=\"set visible\"\r\n                                    name=\"\" \r\n                                    id=\"\"\r\n                                    v-on:change=\"setLayerVisible(2,index)\">\r\n                        </div>\r\n                        <div class=\"title-layer\"><p v-bind:title=\"key\">{{key}}</p></div>\r\n                        <div class=\"dwnld-layer\"><i class=\"bi bi-box-arrow-down\"></i></div>\r\n                        <div    class=\"info-layer\"\r\n                                v-on:click=\"setLayerMetadata('time',{key})\"\r\n                                ><i class=\"bi bi-info-square\"></i>\r\n                        </div>\r\n                        <div  class=\"opct-layer\"><i class=\"bi bi-circle-half\"></i></div>\r\n                        <div class=\"opct-range-layer\">\r\n                            <input type=\"range\" \r\n                                    name=\"\" \r\n                                    id=\"\"\r\n                                    min=\"0\"\r\n                                    max=\"1\"\r\n                                    step=\"0.01\"\r\n                                    value=\"0.5\"\r\n                                    v-on:change=\"setLayerOpacity($event,2,index)\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Layer',\r\n\tprops:{\r\n\t\tchild_msg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'Layer Panel',\r\n\t\t},\r\n        layer_list: {\r\n            type: Object,\r\n        }\r\n\t},\r\n    data () {\r\n        return{\r\n            \r\n        }\r\n    },\r\n    methods: {\r\n        setLayerVisible(nGroup,index) {\r\n            this.$emit('setLayerVisible', {nGroup, index})\r\n        },\r\n        setLayerOpacity(evt, nGroup,index) {\r\n            let opacity = evt.target.value;\r\n            this.$emit('setLayerOpacity', {opacity, nGroup,index})\r\n        },\r\n        setLayerMetadata(layerType, layerName) {\r\n            this.$emit('setLayerMetadata', {layerType, layerName})\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/sass/style.scss\";\r\n\r\n.layer-panel {\r\n    position: absolute;\r\n    display:none;\r\n    top: 0.5em;\r\n    left: 2.5em;\r\n    width: 40vw;\r\n    height: 50vh;\r\n    overflow-y: auto;\r\n\r\n    h6{\r\n        margin:0;\r\n        font-size: 16px;\r\n    }\r\n}\r\n\r\n.layer-list{\r\n    background: rgba($tertiary-bg-color,0.5)!important;\r\n}\r\n\r\n.layer-items{\r\n    display: inline-flex;\r\n    vertical-align: middle;\r\n    width:98%;\r\n    background: rgba($primary-bg-color,0.5);\r\n    padding: 4px;\r\n    border-radius: 4px;\r\n\r\n    ul{\r\n        list-style: none;\r\n        padding: 0;\r\n        margin:0;\r\n    }\r\n\r\n    .chckbx-layer{\r\n        width: 5%;\r\n    }\r\n\r\n    .title-layer{\r\n        width:35%;\r\n        p{\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n        }\r\n    }\r\n\r\n    .dwnld-layer{\r\n        width: 5%;\r\n    }\r\n\r\n    .info-layer{\r\n        width: 5%;\r\n    }\r\n\r\n    .opct-layer{\r\n        width: 5%;\r\n    }\r\n\r\n    .opct-range-layer{\r\n        width: 35%;\r\n    }\r\n\r\n    p{\r\n        margin: 0;\r\n    }\r\n\r\n    input[type=range]{\r\n        padding: 0;\r\n        margin: 0;\r\n        width: 100%;\r\n    }\r\n\r\n    div{\r\n        padding: 4px 4px 4px 4px;\r\n    }\r\n\r\n}\r\n</style>","<template>\r\n        <div id=\"metadataPanel\" class=\"metadata-panel ol-unselectable ol-control\">\r\n            {{child_msg}}\r\n            <div class=\"meta-title\">\r\n                <h6>{{title}}</h6>\r\n            </div>\r\n            <div class=\"meta-abstract\"><strong>Abstract:</strong>{{abstract}}</div>\r\n            <div class=\"meta-info\"> \r\n                <div class=\"meta-details\">\r\n                    <div class=\"meta-details-typology\"><strong>Typology:</strong>{{typology}}</div>\r\n                    <div class=\"meta-details-units\"><strong>Units:</strong> [{{units}}]</div>\r\n                    <div class=\"meta-details-crs\"><strong>CRS:</strong>{{crs}}</div>\r\n                    <div class=\"meta-details-tstart\"><strong>Time Start:</strong><br>{{to}}</div>\r\n                    <div class=\"meta-details-tend\"><strong>Time end:</strong><br>{{tf}}</div>\r\n                </div>\r\n                <div class=\"meta-legend\"><strong>Legend:</strong><img :src=\"legend\" alt=\"\"></div>\r\n            </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Layer',\r\n\tprops:{\r\n\t\tchild_msg: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'Metadata Panel',\r\n\t\t},\r\n        title: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'Title',\r\n\t\t},\r\n        abstract: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'Select a layer',\r\n\t\t},\r\n        typology: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'N/A',\r\n\t\t},\r\n        units: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'N/A',\r\n        },\r\n        crs: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'N/A',\r\n\t\t},\r\n        to: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'N/A',\r\n\t\t},\r\n        tf: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'N/A',\r\n\t\t},\r\n        legend: {\r\n\t\t\ttype: String,\r\n            required:true,\r\n\t\t\tdefault: 'N/A',\r\n\t\t},\r\n\t},\r\n    data () {\r\n        return {\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/sass/style.scss\";\r\n\r\n.metadata-panel {\r\n    position: absolute;\r\n    display:none;\r\n    bottom: 5.5em;\r\n    right: 0.5em;\r\n    width: 40vw;\r\n    height: 40vh;\r\n    background: rgba($primary-bg-color,0.5)!important;\r\n\r\n    div{\r\n        padding:0;\r\n        margin:0;\r\n    }\r\n\r\n    h6{\r\n        font-size: 14px;\r\n        padding:0;\r\n        margin:0;        \r\n    }\r\n}\r\n\r\n.meta-title{\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\n.meta-abstract{\r\n    width: 100%;\r\n    height: 30%;\r\n    background: rgba($tertiary-bg-color,0.5);\r\n    overflow-y: auto;\r\n}\r\n\r\n.meta-info{\r\n    display: inline-flex;\r\n    width: 100%;\r\n    border-radius: 4px;\r\n    overflow-y: auto;\r\n}\r\n\r\n.meta-details{\r\n    width: 50%;\r\n    background: rgba($tertiary-bg-color,0.5);\r\n}\r\n\r\n.meta-legend{\r\n    position: relative;\r\n    width: 50%;\r\n    background: rgba($tertiary-bg-color,0.5);  \r\n}\r\n</style>","<template>\r\n        <div id=\"timePanel\" class=\"time-panel ol-unselectable ol-control\">\r\n            <p>{{child_msg}}</p>\r\n            <div class=\"time-container\">\r\n                <div class=\"time-header\"><strong>{{title}}</strong></div>\r\n                <div class=\"time-controls\">\r\n                    <div class=\"time-controls-dates\">\r\n                        <select name=\"\" id=\"dropdownDate\" @change=\"updateLayerDropdown($event)\">\r\n                            <option v-for=\"(item,index) in datesList\" \r\n                                        :value=\"index\" \r\n                                        :selected=\"datesListLength\"\r\n                                        :key=\"index\">{{datesList[index]}}</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"time-slider\">\r\n                        <input  type=\"range\"\r\n                                name = \"\"\r\n                                id = \"sliderDate\"\r\n                                min = \"0\"\r\n                                v-bind:max=\"datesListLength-1\"\r\n                                v-bind:value=\"currentDateIndex\"\r\n                                step = 1\r\n                                @change=\"updateLayerSlider($event)\">\r\n                    </div>\r\n                    <div id=\"time-controls-backward\" class=\"time-controls_item ol-unselectable ol-control\">\r\n                        <button class=\"time-panel-control-button\" @click=\"stepBackwards\"><i class=\"bi bi-skip-backward-circle\"></i></button>\r\n                    </div>  \r\n                    <div id=\"time-controls-play\" class=\"time-controls_item ol-unselectable ol-control\">\r\n                        <div><button class=\"time-panel-control-button\"><i class=\"bi bi-play-circle\"></i></button></div>\r\n                        <!-- <div><button><i class=\"bi bi-pause-circle\"></i></button></div> -->\r\n                    </div> \r\n                    <div id=\"time-controls-forward\" class=\"time-controls_item ol-unselectable ol-control\">\r\n                        <button class=\"time-panel-control-button\" @click=\"stepForwards\"><i class=\"bi bi-skip-forward-circle\"></i></button>\r\n                    </div>\r\n                </div>                \r\n            </div>\r\n\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Time',\r\n\tprops:{\r\n\t\tchild_msg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'Time Panel',\r\n\t\t},\r\n        title: {\r\n            type: String,\r\n            required: true,\r\n            default:'Select Layer'\r\n        },\r\n        datesList: {\r\n            type: Object,\r\n            required: true,\r\n            default:() => {return {'0':'Select TS'}}\r\n        },\r\n        datesListLength: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        currentDate: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        currentDateIndex: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        currentGroup: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n\t},\r\n    data () {\r\n        return {\r\n            // TODO emit the currentDate values to set the visibility of the layers\r\n            // cDate : this.currentDate,\r\n            // cDateIndex : this.currentDateIndex\r\n        }\r\n    },\r\n    methods:{\r\n        updateLayerSlider(evt) {\r\n            console.log(evt);\r\n            let newDate = evt.target.value;\r\n            let emitDate = parseInt(newDate);\r\n            let nGroup = this.currentGroup + 2;\r\n            let dropdown = document.getElementById('dropdownDate')\r\n            dropdown.selectedIndex = newDate;\r\n            this.cDate = this.datesList[newDate];\r\n            this.cDateIndex = newDate;\r\n            this.$emit('updateLayerSlider', {nGroup, emitDate})\r\n        },\r\n        updateLayerDropdown(evt) {\r\n            let newDate = evt.target.value;\r\n            let emitDate = parseInt(newDate);\r\n            let nGroup = this.currentGroup + 2;\r\n            let slider = document.getElementById('sliderDate')\r\n            slider.value = newDate;\r\n            this.cDate = this.datesList[newDate];\r\n            this.cDateIndex = newDate;\r\n            this.$emit('updateLayerDropdown', {nGroup, emitDate})\r\n        },\r\n        stepBackwards() {\r\n            let to = document.getElementById('sliderDate').value\r\n            let emitDate = to - 1\r\n            let tf = to - 1\r\n            let nGroup = this.currentGroup + 2;\r\n            if (to-1>=0){\r\n                this.cDate = this.datesList[tf];\r\n                this.cDateIndex = tf;\r\n                document.getElementById('dropdownDate').selectedIndex = tf\r\n                document.getElementById('sliderDate').value = tf\r\n                this.$emit('updateLayerDropdown', {nGroup, emitDate})\r\n            } else {\r\n                alert(\"There are no previous maps for the current layer\")\r\n            }\r\n        },\r\n        stepForwards() {\r\n            let to = document.getElementById('dropdownDate').value\r\n            let emitDate = Number(to) + 1\r\n            let tf = Number(to) + 1\r\n            let nGroup = this.currentGroup + 2;\r\n            if (Number(to)+1<=this.datesListLength-1){\r\n                this.cDate = this.datesList[tf];\r\n                this.cDateIndex = tf;\r\n                document.getElementById('dropdownDate').selectedIndex = tf\r\n                document.getElementById('sliderDate').value = tf\r\n                this.$emit('updateLayerDropdown', {nGroup, emitDate})\r\n            } else {\r\n                alert(\"There are no later maps for the current layer\")\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/sass/style.scss\";\r\n\r\n.time-panel {\r\n    position: absolute;\r\n    display:none;\r\n    top: 2.5em;\r\n    right: 0.5em;\r\n    width: 25vw;\r\n    background: rgba($tertiary-bg-color,0.5);\r\n    text-align: center;\r\n\r\n    p{\r\n        padding:0;\r\n        margin:0;\r\n    }\r\n}\r\n\r\n.time-controls{\r\n    display: inline-flex;\r\n\r\n    div{\r\n        position: relative;\r\n        display: inline-block;\r\n    }\r\n\r\n    input[type=range]{\r\n        padding: 0;\r\n        margin: 0;\r\n        width: 95%;\r\n    }\r\n    \r\n    &_item{\r\n        display:inline-block;\r\n    }\r\n}\r\n\r\n.time-container{\r\n    background: rgba($primary-bg-color,0.5);\r\n  }\r\n</style>","export default \"__VITE_ASSET__d6d13acb__\"","export default \"__VITE_ASSET__d843a7bb__\"","export default \"__VITE_ASSET__8d0c5f2f__\"","export default \"__VITE_ASSET__19bbfbf8__\"","export default \"data:image/png;base64,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\"","<template>\r\n    <div id=\"basemapPanel\" class=\"basemap-panel ol-unselectable ol-control\">\r\n        <p>{{child_msg}}</p>\r\n\t\t<div class=\"basemap-container\">\r\n\t\t\t<div v-for=\"(basemap,index) in data\" :key=\"basemap.layer\"\r\n\t\t\t\tclass=\"basemap-container_item\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"radio\" \r\n\t\t\t\t\t\t:name=\"'basemap-radio'\"\r\n\t\t\t\t\t\t:id=\"basemap.layer+'-option'\"\r\n\t\t\t\t\t\t:class=\"'basemap-option'\"\r\n\t\t\t\t\t\t:checked=\"basemap.active\"\r\n\t\t\t\t\t\tv-on:change=\"setLayerVisible(0,index)\">\r\n\t\t\t\t\t<p>{{basemap.layer}}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<img :src=\"getImage(basemap.layer)\" alt=\"\">\r\n\t\t\t</div>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// Vite build does not recognize dynamic paths from the vue template. It is required to do it manually.\r\nimport osm from 'img/basemap/osm.png'\r\nimport terrain from 'img/basemap/terrain.png'\r\nimport watercolor from 'img/basemap/watercolor.png'\r\nimport toner from 'img/basemap/toner.png'\r\nimport none from 'img/basemap/none.png'\r\n\r\n\r\nexport default {\r\n    name: 'Basemap',\r\n\tprops:{\r\n\t\tchild_msg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'Basemap Panel',\r\n\t\t},\r\n\t\tdata: {\r\n\t\t\ttype: Array,\t\r\n\t\t},\r\n\t\tlayer_list: {\r\n\t\t\ttype: Object,\r\n\t\t\trequire: true,\r\n\t\t}\r\n\r\n\t},\r\n    data () {\r\n      return {\r\n      }\r\n    },\r\n\tmethods: {\r\n\t\tgetImage(name) {\r\n\t\t\tif (name == \"osm\") {\r\n\t\t\t\treturn osm\r\n\t\t\t} else if (name == \"terrain\") {\r\n\t\t\t\treturn terrain\r\n\t\t\t} else if (name==\"watercolor\") {\r\n\t\t\t\treturn watercolor\r\n\t\t\t} else if (name==\"toner\") {\r\n\t\t\t\treturn toner\r\n\t\t\t} else if (name==\"none\") {\r\n\t\t\t\treturn none\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetLayerVisible(nGroup,index) {\r\n            this.$emit('setLayerVisible', {nGroup, index})\r\n        },\r\n\t}\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.basemap-panel {\r\n    position: absolute;\r\n    display:none;\r\n    bottom: 2.25em;\r\n    left: 2.5em;\r\n    width: auto;\r\n    height: 150px;\r\n    text-align: center;\r\n        \r\n    p{\r\n        padding: 0;\r\n        margin: 0;\r\n    }\r\n\r\n}\r\n\r\n.basemap-container{\r\n    position: relative;\r\n\r\n    &_item{\r\n        padding: 0px 1px 0px 1px;\r\n        display: inline-block;\r\n        width: 15vw;\r\n        \r\n        div{\r\n            position: relative;\r\n            display: inline-flex;\r\n            background: rgba(white,0.5);\r\n            width: 100%;\r\n            z-index:1;\r\n        }\r\n        \r\n        img{\r\n            position: relative;\r\n            top:-20px;\r\n            width: 15vw;\r\n        }\r\n    }\r\n}\r\n</style>","<template>\r\n        <div id=\"plotPanel\" class=\"plot-panel ol-unselectable ol-control\">\r\n            {{child_msg}}\r\n        </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: 'Plot',\r\n\tprops:{\r\n\t\tchild_msg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'Plot Panel',\r\n\t\t}\r\n\t},\r\n    data () {\r\n        return {\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/sass/style.scss\";\r\n\r\n.plot-panel {\r\n    position: absolute;\r\n    display:none;\r\n    bottom: 0.5em;\r\n    left: 10em;\r\n    width: 60vw;\r\n    height: 30vh;\r\n}\r\n</style>","export default \"__VITE_ASSET__39c6eac4__\"","export default \"__VITE_ASSET__52627267__\"","export default \"__VITE_ASSET__e76ce568__\"","export default \"__VITE_ASSET__df51a994__\"","export default \"__VITE_ASSET__9255129d__\"","export default \"__VITE_ASSET__c99fefa1__\"","export default \"__VITE_ASSET__1425b493__\"","<template>\r\n    <div class=\"carousel-container\">\r\n        <slot></slot>\r\n        <button class=\"prev\" @click=\"prev\"><i class=\"bi bi-caret-left-fill\"></i></button>\r\n        <button class=\"next\" @click=\"next\"><i class=\"bi bi-caret-right-fill\"></i></button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data () {\r\n        return{\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        prev () {\r\n            this.$emit('prev')\r\n        },\r\n        next() {\r\n            this.$emit('next')\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .carousel-container{\r\n        position: relative;\r\n        width:100%;\r\n        height:100%;\r\n        overflow:hidden;\r\n    }\r\n    button{\r\n        position: absolute;\r\n        width: 50px;\r\n        height: 40px;\r\n        top: calc(50% - 10px);\r\n\r\n        &.prev{\r\n            left:2px;\r\n        }\r\n\r\n        &.next{\r\n            right:2px;\r\n        }\r\n    }\r\n</style>","<template>\r\n    <transition :name=\"direction\">\r\n        <div v-show=\"visibleSlide === index\" class=\"carousel-slide\">\r\n        <slot></slot>\r\n            </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props:['visibleSlide','index','direction'],\r\n    data () {\r\n        return{\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .carousel-slide {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n    }\r\n    // Animation slide left\r\n    .left-enter-active {\r\n        animation: leftInAnimation 0.4s ease-in-out;\r\n    }\r\n    .left-leave-active {\r\n        animation: leftOutAnimation 0.4s ease-in-out;\r\n    }\r\n    @keyframes leftInAnimation {\r\n        from { transform: translateX(100%);}\r\n        to { transform: translateX(0);}\r\n    }\r\n    @keyframes leftOutAnimation {\r\n        from { transform: translateX(0);}\r\n        to { transform: translateX(-100%);}\r\n    }\r\n    // Animation slide right\r\n    .right-enter-active {\r\n        animation: rightInAnimation 0.4s ease-in-out;\r\n    }\r\n    .right-leave-active {\r\n        animation: rightOutAnimation 0.4s ease-in-out;\r\n    }\r\n    @keyframes rightInAnimation {\r\n        from { transform: translateX(-100%);}\r\n        to { transform: translateX(0);}\r\n    }\r\n    @keyframes rightOutAnimation {\r\n        from { transform: translateX(0);}\r\n        to { transform: translateX(100%);}\r\n    }\r\n</style>","<template>\r\n        <div id=\"slidePanel\" class=\"slide-panel ol-unselectable ol-control\" style=\"display:none\">\r\n            {{child_msg}}\r\n            <div class=\"slidepanel-show\">\r\n                <carousel-container\r\n                    @prev=\"prev\"\r\n                    @next=\"next\"\r\n                >\r\n                    <carousel-slide v-for=\"(slide,index) in settings.slides\"\r\n                        :key=\"slide\"\r\n                        :index=\"index\"\r\n                        :visibleSlide=\"visibleSlide\"\r\n                        :direction=\"direction\"\r\n                        >\r\n                        <div class=\"slide-title\">{{slide.title}}</div>\r\n                        <div class=\"slide-description\">{{slide.description}}</div>\r\n                        <img :src=\"getImage(slide.src)\" :alt=\"index\">\r\n                    </carousel-slide>\r\n                </carousel-container>\r\n            </div>\r\n            <div class=\"slide-current\"></div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\n// Import the images\r\nimport i1 from 'img/slides/i1.png'\r\nimport i2 from 'img/slides/i2.png'\r\nimport i3 from 'img/slides/i3.png'\r\nimport i4 from 'img/slides/i4.png'\r\nimport i5 from 'img/slides/i5.png'\r\nimport i6 from 'img/slides/i6.png'\r\nimport i7 from 'img/slides/i7.png'\r\n\r\n// Import slide-show components\r\nimport CarouselContainer from './slideShow/CarouselContainer.vue'\r\nimport CarouselSlide from './slideShow/CarouselSlide.vue'\r\n\r\nexport default {\r\n    name: 'Slide',\r\n\tprops:{\r\n\t\tchild_msg: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'Slide Panel',\r\n\t\t},\r\n        settings: {\r\n            type: Object,\r\n        }\r\n\t},\r\n    data () {\r\n        return {\r\n            visibleSlide: 0,\r\n            direction: '',\r\n        }\r\n    },\r\n    computed: {\r\n        slidesLen() {\r\n            return this.settings.slides.length;\r\n        }\r\n    },\r\n    methods: {\r\n        prev () {\r\n            if(this.visibleSlide <= 0){\r\n                this.visibleSlide = this.slidesLen - 1;\r\n            } else {\r\n                this.visibleSlide--;\r\n            }\r\n            this.direction = 'right';\r\n        },\r\n        next () {\r\n            if(this.visibleSlide >= this.slidesLen - 1 ){\r\n                this.visibleSlide = 0;\r\n            } else {\r\n                this.visibleSlide++;\r\n            }\r\n            this.direction = 'left';\r\n        },\r\n        getImage(name) {\r\n\t\t\tif (name == \"i1.png\") {\r\n\t\t\t\treturn i1\r\n\t\t\t} else if (name==\"i2.png\") {\r\n\t\t\t\treturn i2\r\n\t\t\t} else if (name==\"i3.png\") {\r\n\t\t\t\treturn i3\r\n\t\t\t} else if (name==\"i4.png\") {\r\n\t\t\t\treturn i4\r\n\t\t\t} else if (name==\"i5.png\") {\r\n\t\t\t\treturn i5\r\n\t\t\t} else if (name==\"i6.png\") {\r\n\t\t\t\treturn i6\r\n\t\t\t} else if (name==\"i7.png\") {\r\n\t\t\t\treturn i7\r\n\t\t\t}\r\n\t\t}\r\n    },\r\n    mounted() {\r\n    },\r\n    components: { \r\n        CarouselContainer,\r\n        CarouselSlide,\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/sass/style.scss\";\r\n\r\n.slide-panel{\r\n    display:inline-block;\r\n    justify-content: center;\r\n    position: absolute;\r\n    bottom: 25vh;\r\n    left: 25vw;\r\n    width: 50vw;\r\n    height: 50vh;\r\n    z-index: 1;\r\n    border:$border-rad;\r\n    img {\r\n        width: 100%;\r\n        height: 100%;\r\n        border:$border-rad;\r\n    }\r\n}\r\n\r\n.slide-title{\r\n    height: 10%;\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\n.slidepanel-show{\r\n    display:flex;\r\n    width: 100%;\r\n    height: 90%;\r\n}\r\n\r\n.slide-current{\r\n    width: 100%;\r\n    height: 10%;\r\n}\r\n</style>","<template>\r\n    <div>\r\n        <div id=\"map\" class=\"map\"></div>\r\n        <layerPanel \r\n            :child_msg=\"'Layer-Panel'\"\r\n            :layer_list=\"layer_list\"\r\n            @setLayerVisible=\"setLayerVisible\"\r\n            @setLayerOpacity=\"setLayerOpacity\"\r\n            @setLayerMetadata=\"setLayerMetadata\"\r\n        />\r\n        <metadataPanel \r\n            :child_msg=\"'Metadata-Panel'\"\r\n                :settings=\"settings\"\r\n                :title=\"title\"\r\n                :abstract=\"abstract\"\r\n                :to=\"to\"\r\n                :tf=\"tf\"\r\n                :units=\"units\"\r\n                :crs=\"crs\"\r\n                :legend=\"legend\"\r\n        />\r\n        <timePanel \r\n            :child_msg=\"'Time-Panel'\"\r\n            :title=\"title\"\r\n            :datesList=\"datesList\"\r\n            :datesListLength=\"datesListLength\"\r\n            :currentDate=\"currentDate\"\r\n            :currentDateIndex=\"currentDateIndex\"\r\n            :currentGroup=\"currentGroup\"\r\n            @updateLayerSlider=\"setLayerVisibleTS\"\r\n            @updateLayerDropdown=\"setLayerVisibleTS\"\r\n            @stepBackwards=\"setLayerVisibleTS\"\r\n            @stepForwards=\"setLayerVisibleTS\"\r\n        />\r\n        <basemapPanel \r\n            :child_msg=\"'Basemap-Panel'\"\r\n            :data=\"basemap_settings\"\r\n            :layer_list=\"layer_list\"\r\n            @setLayerVisible=\"setLayerVisible\"\r\n        />\r\n        <slidePanel \r\n            :child_msg=\"'Slide-Panel'\"\r\n            :settings=\"settings\"\r\n        />\r\n        <plotPanel :child_msg=\"'Plot-Panel'\"/>\r\n        <div id=\"popup\" class=\"popup ol-unselectable ol-control\"></div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n// Add Map\r\nimport {addMap} from '@/assets/js/map'\r\n// Add Controls to map\r\nimport {layerPanel,\r\n\t\tmetadataPanel,\r\n\t\ttimePanel,\r\n\t\tbasemapPanel,\r\n\t\tplotPanel,\r\n\t\tslidePanel,\r\n\t\tpopup} from 'js/panelCreate';\r\n// Organize layers\r\nimport {organizeLayers, basemapLayers, createLayerGroups} from '@/assets/js/requestLayers'\r\n// Components\r\nimport LayerPanel from './panels/LayerPanel.vue'\r\nimport MetadataPanel from './panels/MetadataPanel.vue'\r\nimport TimePanel from './panels/TimePanel.vue'\r\nimport BasemapPanel from './panels/BasemapPanel.vue'\r\nimport PlotPanel from './panels/PlotPanel.vue'\r\nimport SlidePanel from './panels/SlidePanel.vue'\r\n// Handle the request\r\nimport axios from \"axios\"\r\n// XML parser\r\nimport WMSCapabilities from 'ol/format/WMSCapabilities';\r\nconst parser = new WMSCapabilities();\r\n\r\nexport default {\r\n    name: \"WebGISContainer\",\r\n    data () {\r\n        return {\r\n            basemap_settings: this.settings.basemaps,\r\n            layer_list: {},\r\n            layer_groups: {},\r\n            map: {},\r\n            title: \"Select a Layer\",\r\n            abstract:\"N/A\",\r\n            to:\"N/A\",\r\n            tf:\"N/A\",\r\n            crs: \"N/A\",\r\n            units:\"N/A\",\r\n            legend:\"N/A\",\r\n            // Time Series Visualization Variables\r\n            datesList:{},\r\n            currentGroup:'',\r\n            currentDate:'',\r\n            currentDateIndex:'',\r\n            datesListLength:'',\r\n        }\r\n    },\r\n    props: {\r\n        settings: { \r\n            type: Object, \r\n            required: true,\r\n        },\r\n    },\r\n    components: {\r\n        layerPanel: LayerPanel,\r\n        metadataPanel: MetadataPanel,\r\n        timePanel: TimePanel,\r\n        basemapPanel: BasemapPanel,\r\n        plotPanel: PlotPanel,\r\n        slidePanel: SlidePanel,\r\n    },\r\n    methods: {\r\n        // TODO: refer to the current layer indexes values\r\n        setLayerVisible(value) {\r\n            let index = value.index;\r\n            let nGroup = value.nGroup;\r\n            // Static Layers Case\r\n            if (nGroup == 0) {\r\n                let basemaps = this.map.getLayers().array_[nGroup].values_.layers.array_\r\n                basemaps.forEach((basemap,i) => {\r\n                    if (index!=i) {\r\n                        basemap.setVisible(false)\r\n                    } else if (basemaps.length<index) {\r\n                        basemap.setVisible(false)\r\n                    } else {\r\n                        basemap.setVisible(true)\r\n                    }\r\n                });\r\n            } else if (nGroup == 1) {\r\n                let currentVisibility = this.map.getLayers().array_[nGroup].values_.layers.array_[index].getVisible()\r\n                this.map.getLayers().array_[nGroup].values_.layers.array_[index].setVisible(!currentVisibility)\r\n            } else {\r\n                let ll = this.map.getLayers().array_[nGroup+index]\r\n                let lll = ll.values_.layers.array_.length-1\r\n                // Search layer visibility of the collection\r\n                let layers_col = this.map.getLayers().array_[nGroup+index].values_.layers.array_\r\n                let layer_check = 0\r\n                layers_col.forEach((layer,i) => {\r\n                    let currentVisibilityLayer = this.map.getLayers().array_[nGroup+index].values_.layers.array_[i].getVisible();\r\n                    if (layer.getVisible()==true && i!=lll) {\r\n                        this.map.getLayers().array_[nGroup+index].values_.layers.array_[i].setVisible(!currentVisibilityLayer)\r\n                        layer_check++\r\n                        return false\r\n                    } else if (layer_check==0 && i==lll) {  \r\n                        this.map.getLayers().array_[nGroup+index].values_.layers.array_[lll].setVisible(!currentVisibilityLayer)     \r\n                    }\r\n                });\r\n                \r\n                // Visibility on/off only for the last layer of the group\r\n    \r\n            }\r\n        },\r\n        setLayerVisibleTS(value) {\r\n            let nGroup = value.nGroup;\r\n            let index = value.emitDate;\r\n            let getLayersGroup = this.map.getLayers().array_[nGroup].values_.layers.array_\r\n            getLayersGroup.forEach((element,i) => {\r\n            if (index==i){\r\n                element.setVisible(true)\r\n            } else {\r\n                element.setVisible(false)\r\n            }\r\n            });\r\n        },\r\n        setLayerOpacity(value){\r\n            let opacity = value.opacity;\r\n            let index = value.index;\r\n            let nGroup = value.nGroup;\r\n            // It is necessary to re-render the layer to display the changes in the map\r\n            if (nGroup <= 1) {\r\n            if (this.map.getLayers().array_[nGroup].values_.layers.array_[index].getVisible() == true) {\r\n                this.map.getLayers().array_[nGroup].values_.layers.array_[index].setVisible(false)\r\n                this.map.getLayers().array_[nGroup].values_.layers.array_[index].values_.opacity = opacity\r\n                this.map.getLayers().array_[nGroup].values_.layers.array_[index].setVisible(true)\r\n            } else {\r\n                this.map.getLayers().array_[nGroup].values_.layers.array_[index].values_.opacity = opacity\r\n            }\r\n            } else { \r\n            let ll = this.map.getLayers().array_[nGroup+index]\r\n            if (ll.getVisible()==true) {\r\n                ll.setVisible(false)\r\n                ll.values_.opacity=opacity;\r\n                ll.setVisible(true)\r\n            } else {\r\n                ll.values_.opacity=opacity;\r\n            }\r\n            }\r\n        },\r\n        setLayerMetadata(value){\r\n            let layerType = value.layerType;\r\n            let layerName = value.layerName.key;\r\n            let layer = this.layer_list[layerType][layerName]\r\n            this.title = layerName\r\n            // Retrieve layer characteristics \r\n            if (layerType == 'time'){\r\n                let tplg = layer.typology\r\n                let timeFormat = layer.timeFormatted\r\n                this.abstract = this.settings.typology[tplg].abstract\r\n                this.units = this.settings.typology[tplg].units\r\n                this.crs = layer.crs\r\n                this.legend = layer.layer[0].values_.source.getLegendUrl();\r\n                // this.legend = '../../../src/assets/img/legends/chl.png'\r\n                this.to = timeFormat[0]\r\n                this.tf = timeFormat[timeFormat.length-1]\r\n                // Initialize the variables for the time control\r\n                this.datesList = this.layer_list.time[layerName].timeFormatted\r\n                this.currentDate = this.datesList[Object.keys(this.datesList).length-1]\r\n                this.currentDateIndex = Object.keys(this.datesList).length\r\n                this.datesListLength = Object.keys(this.datesList).length\r\n                this.currentGroup = Object.keys(this.layer_list.time).indexOf(layerName)\r\n            }\r\n        },\r\n        downloadData() {\r\n            // TODO: install CSW extension to GeoServer for allowing the download of datasets. For now, it is possible to download as georeferenced images using the WMS server.\r\n        }\r\n    },\r\n    mounted() {\r\n        // Settings\r\n        this.basemap_settings = this.settings.basemaps\r\n        axios.get(this.settings.urlWMSget)\r\n            .then(response => {\r\n                // Parsing Get Capabilities\r\n                let capabilities = parser.read(response.data)\r\n                let layers = capabilities.Capability.Layer.Layer\r\n                let layers_dict = organizeLayers(layers,this.settings.typology,this.settings.urlWMS)\r\n                let layers_complete = basemapLayers(layers_dict)\r\n                // TODO: merge dict functions\r\n                let layers_groups = createLayerGroups(layers_complete)\r\n                this.layer_list = layers_dict\r\n                this.layer_group = layers_groups\r\n                return layers_groups\r\n            })\r\n            .then(layers_groups => {\r\n                const map = addMap()\r\n                for (let key in layers_groups) {\r\n\t\t            for (let group in layers_groups[key]){;\r\n\t\t\t            map.addLayer(layers_groups[key][group]);\r\n\t\t            }\r\n\t            }\r\n                this.map = map\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import 'css/style.css';\r\n</style>","\"use strict\";\r\n\r\nconst settings = {\r\n    urlWMS: \"http://127.0.0.1/geoserver/geonode/wms\",\r\n    urlWMSget: \"http://127.0.0.1/geoserver/ows?service=wms&version=1.3.0&request=GetCapabilities\",\r\n    typology:{\r\n        CHL:{\r\n            title:\"Chlorophyll-a\",\r\n            abstract:\"Chlorophyll-a allows plants to photosintezise. This measurement is used to classify the trophic conditionof a water body. The Chlorophyll-a maps presented have been processed using the Sentinel-3 OLCI sensor\",\r\n            style:\"chl\",\r\n            units: \"mg/m3\",\r\n        },\r\n        TSM:{\r\n            title:\"Total Suspended Matter\",\r\n            abstract:\"Total suspended matter concentration\",\r\n            style:\"tsm\",\r\n            units: \"mg/m3\",\r\n        },\r\n        LSWT:{\r\n            title:\"Lake Surface Water Temperature\",\r\n            abstract:\"Average lake surface temperature\",\r\n            style:\"lswt\",\r\n            units: \"°C\",\r\n        }\r\n    },\r\n    basemaps: [\r\n        //A single basemap should be set as visible\r\n        {layer:'osm',source:'osm',src:'osm.png',active:true},\r\n        {layer:'watercolor',source:'stamen',src:'watercolor.png',active:false},\r\n        {layer:'terrain',source:'terrain-labels',src:'terrain.png',active:false},\r\n        {layer:'toner',source:'toner',src:'toner.png',active:false},\r\n        {layer:'none',source:'none',src:'none.png',active:false},\r\n    ],\r\n    slides:[\r\n        {title:\"Welcome!\",src:\"i1.png\",description:\"1. SIMILE WebGIS enables the visualization of the water quality parameters (WQPs) maps produced for Lakes Maggiore, Lugano and Como.\"},\r\n        {title:\"Explore the different tools\",src:\"i2.png\",description:\"2. The WebGIS presents multtiple panels allowing to explore the different water quality parameters maps\"},\r\n        {title:\"Visualize and explore the WQP\",src:\"i3.png\",description:\"3. Review the different components allowing the visualization of the maps, such as the layer panel, metadata panel and time controller\"},\r\n        {title:\"Observe the evolution of the time series\",src:\"i4.png\",description:\"4. Use the time manager to observe the changes of the parameters in time.\"},\r\n        {title:\"Observe the evolution of the time series\",src:\"i5.png\",description:\"4. Use the time manager to observe the changes of the parameters in time.\"},\r\n        {title:\"Change the basemap\",src:\"i6.png\",description:\"5. Customize the view of the WebGIS by using different basemaps\"},\r\n        {title:\"Explore the guide\",src:\"i7.png\",description:\"6. Review the guide for the WebGIS\"},\r\n    ]\r\n}\r\n\r\nexport {\r\n    settings\r\n}","<template>\r\n  <WebGISContainer\r\n    :settings=\"settings\"\r\n    :layer=\"layer_list\"\r\n  />\r\n</template>\r\n\r\n<script>\r\n// Import App components\r\nimport 'css/style.css'\r\nimport WebGISContainer from './components/WebGISContainer.vue'\r\n\r\n// Settings\r\nimport {settings} from '@/assets/js/settings'\r\n\r\nexport default {\r\n  name: 'App',\r\n  \tdata () {\r\n    \treturn {\r\n      \t\tsettings: settings,\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tWebGISContainer,\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  img {\r\n    width: 5em;\r\n  }\r\n</style>","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\n\r\ncreateApp(App).mount('#app')"],"names":["osm","defaultControls","_hoisted_1","_createTextVNode","_hoisted_2","_hoisted_8","_hoisted_12","_hoisted_15","_hoisted_21","_createElementVNode","_hoisted_14","_createElementBlock","_normalizeClass","_renderSlot","_createVNode"],"mappings":"kQAAA,KAAM,IAAI,UAAoB,CAC1B,KAAM,GAAU,SAAS,cAAc,QAAQ,QAC/C,GAAI,GAAW,EAAQ,UAAY,EAAQ,SAAS,iBAChD,OAEJ,SAAW,KAAQ,UAAS,iBAAiB,6BACzC,EAAe,GAEnB,GAAI,kBAAiB,AAAC,GAAc,CAChC,SAAW,KAAY,GACnB,GAAI,EAAS,OAAS,YAGtB,SAAW,KAAQ,GAAS,WACxB,AAAI,EAAK,UAAY,QAAU,EAAK,MAAQ,iBACxC,EAAe,KAG5B,QAAQ,SAAU,CAAE,UAAW,GAAM,QAAS,KACjD,WAAsB,EAAQ,CAC1B,KAAM,GAAY,GAClB,MAAI,GAAO,WACP,GAAU,UAAY,EAAO,WAC7B,EAAO,gBACP,GAAU,eAAiB,EAAO,gBACtC,AAAI,EAAO,cAAgB,kBACvB,EAAU,YAAc,UACvB,AAAI,EAAO,cAAgB,YAC5B,EAAU,YAAc,OAExB,EAAU,YAAc,cACrB,EAEX,WAAwB,EAAM,CAC1B,GAAI,EAAK,GAEL,OACJ,EAAK,GAAK,GAEV,KAAM,GAAY,EAAa,GAC/B,MAAM,EAAK,KAAM,KAEvB,AAAoB,KC1CtB,OAAe,oCCAf,YACA,CACI,KAAM,GAAY,IAAI,KAAK,QAAQ,UAAU,GACvC,EAAY,IAAI,EAAU,MAAM,KAAK,GAAK,QAC1C,EAAU,EAAE,GAClB,AAAI,EAAQ,SAAS,UACjB,GAAE,GAAG,KAAa,MAAM,GAAG,OAC3B,EAAQ,YAAY,WAEpB,GAAE,GAAG,KAAa,MAAM,GAAG,OAC3B,EAAQ,SAAS,WAIzB,YAAqB,CACjB,KAAM,GAAY,IAAI,KAAK,QAAQ,UAAU,GACvC,EAAY,IAAI,EAAU,MAAM,KAAK,GAAK,SAC1C,EAAgB,EAAE,GAClB,EAAe,EAAE,GACvB,AAAI,EAAa,SAAS,UACtB,GAAa,OACb,EAAc,YAAY,UAC1B,EAAa,YAAY,WAGzB,GAAa,OACb,EAAc,SAAS,UACvB,EAAa,SAAS,WCpB9B,gBAA0B,EAAQ,CAIhC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAS,SAAS,cAAc,UACtC,EAAO,UAAY,6BAEnB,KAAM,GAAU,SAAS,cAAc,OACvC,EAAQ,UAAY,4DACpB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAGlB,EAAQ,iBAAiB,QAAS,EAAS,KAAK,MAAO,KAK3D,gBAA4B,EAAQ,CAIlC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAS,SAAS,cAAc,UACtC,EAAO,UAAY,8BAEnB,EAAO,MAAQ,eAEf,KAAM,GAAU,SAAS,cAAc,OACvC,EAAQ,UAAY,gEACpB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAElB,EAAQ,iBAAiB,QAAS,EAAU,KAAK,MAAO,KAO5D,gBAA8B,EAAQ,CAIpC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAS,SAAS,cAAc,UACtC,EAAO,UAAY,oCAEnB,EAAO,MAAQ,iBAEf,KAAM,GAAU,SAAS,cAAc,OACvC,EAAQ,UAAY,mEACpB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAElB,EAAQ,iBAAiB,QAAS,EAAU,KAAK,MAAO,KAK5D,gBAA0B,EAAQ,CAIhC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAS,SAAS,cAAc,UACtC,EAAO,UAAY,sCAEnB,EAAO,MAAQ,aAEf,KAAM,GAAU,SAAS,cAAc,OACvC,EAAQ,UAAY,+DACpB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAElB,EAAQ,iBAAiB,QAAS,EAAU,KAAK,MAAO,KAK5D,gBAA6B,EAAQ,CAInC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAS,SAAS,cAAc,UACtC,EAAO,UAAY,4BAEnB,EAAO,MAAQ,WAEf,KAAM,GAAU,SAAS,cAAc,OACvC,EAAQ,UAAY,kEACpB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAElB,EAAQ,iBAAiB,QAAS,EAAU,KAAK,MAAO,KAK5D,gBAA0B,EAAQ,CAIhC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAS,SAAS,cAAc,UACtC,EAAO,UAAY,iCAEnB,EAAO,MAAQ,mBAEf,KAAM,GAAU,SAAS,cAAc,OAEvC,EAAQ,UAAY,+DACpB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAElB,EAAQ,iBAAiB,QAAS,EAAU,KAAK,MAAO,KAK5D,gBAA2B,EAAQ,CAIjC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAS,SAAS,cAAc,UACtC,EAAO,UAAY,2CAEnB,EAAO,MAAQ,eAEf,KAAM,GAAU,SAAS,cAAc,OAEvC,EAAQ,UAAY,gEACpB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAElB,EAAQ,iBAAiB,QAAS,EAAU,KAAK,MAAO,KAK5D,gBAA4B,EAAQ,CAIlC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAO,SAAS,cAAc,MAC9B,EAAY,SAAS,cAAc,MACnC,EAAU,SAAS,cAAc,MACjC,EAAU,SAAS,cAAc,MACjC,EAAU,SAAS,cAAc,MACjC,EAAU,SAAS,cAAc,MACvC,EAAU,UAAY,gDACtB,EAAQ,UAAY,4FACpB,EAAQ,UAAY,2FACpB,EAAQ,UAAY,4FACpB,EAAQ,UAAY,6FAEpB,EAAU,MAAQ,SAClB,EAAQ,MAAQ,WAChB,EAAQ,MAAQ,UAChB,EAAQ,MAAQ,WAChB,EAAQ,MAAQ,YAGhB,KAAM,GAAU,SAAS,cAAc,OACvC,EAAQ,UAAY,iEACpB,EAAK,YAAY,GACjB,EAAK,YAAY,GACjB,EAAK,YAAY,GACjB,EAAK,YAAY,GACjB,EAAK,YAAY,GACjB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAGlB,EAAU,iBAAiB,QAAS,EAAS,KAAK,MAAO,KAK7D,gBAA2B,EAAQ,CAIjC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAO,SAAS,cAAc,MAC9B,EAAY,SAAS,cAAc,MACnC,EAAY,SAAS,cAAc,MACnC,EAAgB,SAAS,cAAc,MACvC,EAAU,SAAS,cAAc,MACjC,EAAgB,SAAS,cAAc,MAC7C,EAAU,UAAY,mDACtB,EAAU,UAAY,4FACtB,EAAc,UAAY,4FAC1B,EAAQ,UAAY,yFACpB,EAAc,UAAY,gGAE1B,EAAU,MAAQ,YAClB,EAAU,MAAQ,OAClB,EAAc,MAAQ,iCACtB,EAAQ,MAAQ,2BAChB,EAAc,MAAQ,WAGtB,KAAM,GAAU,SAAS,cAAc,OACvC,EAAQ,UAAY,gEACpB,EAAK,YAAY,GACjB,EAAK,YAAY,GACjB,EAAK,YAAY,GACjB,EAAK,YAAY,GACjB,EAAK,YAAY,GACjB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,SAGlB,EAAU,iBAAiB,QAAS,EAAS,KAAK,MAAO,KAK7D,gBAA0B,EAAQ,CAIhC,YAAY,EAAa,CACvB,KAAM,GAAU,GAAe,GAEzB,EAAM,SAAS,cAAc,OAC7B,EAAI,SAAS,cAAc,KACjC,EAAE,KAAO,iIACT,KAAM,GAAM,SAAS,cAAc,OACnC,EAAI,IAAM,GACV,EAAI,IAAM,uBACV,EAAE,YAAY,GACd,EAAI,YAAY,GAEhB,KAAM,GAAU,SAAS,cAAc,OACvC,EAAQ,UAAY,0CACpB,EAAQ,YAAY,GAEpB,MAAM,CACJ,QAAS,EACT,OAAQ,EAAQ,UCtSH,GAAI,GAAQ,CAC7B,QAAS,SAAS,eAAe,gBAGb,GAAI,GAAQ,CAChC,QAAS,SAAS,eAAe,mBAGjB,GAAI,GAAQ,CAC5B,QAAS,SAAS,eAAe,eAGd,GAAI,GAAQ,CAC/B,QAAS,SAAS,eAAe,kBAGjB,GAAI,GAAQ,CAC5B,QAAS,SAAS,eAAe,eAGhB,GAAI,GAAQ,CAC7B,QAAS,SAAS,eAAe,gBAGrB,GAAI,GAAQ,CACtB,QAAS,SAAS,eAAe,WCErC,KAAMA,IAAM,GAAI,GAEV,GAAqB,GAAI,GAAY,CAC3C,OAAQ,CACP,GAAI,GAAU,CACd,OAAQA,QAKT,aAAkB,CA8BjB,MA7BY,IAAI,GAAI,CACnB,OAAQ,MAER,SAAUC,IACN,OAAO,CAAC,GAAI,GAEX,GACA,GAAI,IACJ,GAAI,IAEJ,GAAI,IAEJ,GAAI,IAEJ,GAAI,IAEJ,GAAI,IAGJ,GAAI,IACJ,GAAI,IACJ,GAAI,IACJ,GAAI,MAET,KAAM,GAAI,GAAK,CACd,OAAQ,CAAC,aAAc,kBACvB,KAAM,OC1DM,GAAI,GAanB,WAAuB,EAAW,EAAI,EAAa,EAAY,CAW3D,MAVc,IAAI,GAAU,CACxB,OAAQ,GAAI,GAAQ,CACpB,IAAK,EACL,OAAQ,CAAC,OAAU,EAAW,MAAS,GAAM,OAAS,GACtD,YAAa,YACb,WAAY,cAEZ,QAAQ,GACR,QAAQ,IAKhB,WAA0B,EAAW,EAAK,CACtC,SAAW,EAAK,MAAQ,GACxB,EAAW,EAAK,MAAM,UAAY,EAAK,UACvC,EAAW,EAAK,MAAM,SAAW,EAAK,SACtC,EAAW,EAAK,MAAM,IAAM,EAAK,IACjC,EAAW,EAAK,MAAM,OAAS,EAAK,OACpC,EAAW,EAAK,MAAM,aAAe,CAAC,EAAK,cAC3C,EAAW,EAAK,MAAM,cAAgB,CAAC,EAAK,eAC5C,EAAW,EAAK,MAAM,MAAQ,EAAK,MACnC,EAAW,EAAK,MAAM,MAAO,CAAC,EAAK,OAC5B,EAGX,YAAwB,EAAO,EAAW,EAAK,CAE3C,GAAI,GAAK,OAAO,KAAK,GAEjB,EAAc,GAClB,SAAY,OAAS,GACrB,EAAY,KAAO,GACnB,EAAY,QAAU,GAEtB,EAAO,QAAQ,GAAW,CAC1B,GAAI,GAAO,GACP,EAAM,EAAQ,KAAK,MAAM,KAQ7B,GALA,EAAK,UAAY,EAAI,GACrB,EAAK,KAAO,EAAI,GAAG,MAAM,KAAK,MAAM,EAAE,GAAG,KAAK,KAC9C,EAAK,OAAS,EAAI,GAAG,MAAM,KAAK,GAChC,EAAK,SAAW,EAAI,GAAG,MAAM,KAAK,GAClC,EAAK,IAAM,EAAI,GAAG,MAAM,KAAK,GACzB,EAAI,GAAG,MAAM,KAAK,IAAI,KAAW,CACjC,EAAK,aAAe,EAAI,GAAG,MAAM,KAAK,GACtC,GAAI,GAAI,EAAI,GAAG,MAAM,KAAK,GAAG,MAAM,KAAK,GACxC,EAAK,cAAgB,EAAE,MAAM,EAAE,GAAG,IAAI,EAAE,MAAM,EAAE,GAAG,IAAI,EAAE,MAAM,EAAE,OAEjE,GAAK,aAAe,OACpB,EAAK,cAAgB,OAEzB,EAAK,MAAQ,EAAI,GAAG,MAAM,KAAK,GAE/B,GAAI,GAAa,GACjB,AAAI,EAAG,SAAS,EAAK,WACjB,GAAa,EAAK,SAAS,eAE/B,EAAK,MAAQ,EAAc,EAAQ,KAAK,EAAI,GAAI,GAEhD,AAAI,EAAK,cAAc,KACnB,AAAI,EAAK,OAAQ,GAAY,KAE7B,GAAK,MAAQ,EAAc,EAAQ,KAAK,EAAI,EAAE,GAC9C,EAAY,KAAK,EAAK,MAAM,aAAa,KAAK,EAAK,cACnD,EAAY,KAAK,EAAK,MAAM,cAAc,KAAK,EAAK,eACpD,EAAY,KAAK,EAAK,MAAM,MAAM,KAAK,EAAK,QAG5C,GAAK,MAAQ,EAAc,EAAQ,KAAK,EAAI,GAC5C,EAAY,KAAO,EAAiB,EAAY,KAAK,IAIrD,EAAY,OAAS,EAAiB,EAAY,OAAO,KAGtD,EAIX,YAAuB,EAAgB,CACnC,GAAI,GAAgB,CAChB,IAAI,CACA,MAAM,MACN,MAAM,CAAC,GAAI,GAAU,CACjB,OAAQ,GAAI,GACZ,QAAS,OAGjB,WAAW,CACP,MAAM,aACN,OAAO,SACP,MAAM,CAAC,GAAI,GAAU,CACb,OAAQ,GAAI,GAAO,CACf,MAAO,eAEX,QAAQ,OAGpB,QAAQ,CACJ,MAAM,UACN,OAAO,SACP,MAAM,CAAC,GAAI,GAAU,CACb,OAAQ,GAAI,GAAO,CACf,MAAO,YAEX,QAAQ,OAGpB,MAAM,CACF,MAAM,QACN,OAAO,SACP,MAAM,CAAC,GAAI,GAAU,CACb,OAAQ,GAAI,GAAO,CACf,MAAO,UAEX,QAAQ,QAIxB,SAAgB,QAAU,EACnB,EAGX,YAA2B,EAAgB,CACvC,GAAI,GAAS,GACT,EAAW,GACX,EAAU,GACV,EAAqB,GACrB,EAAoB,GACpB,EAAc,GAClB,OAAS,KAAQ,GACb,GAAI,GAAQ,OACR,OAAS,KAAa,GAAgB,GAAM,CACxC,GAAI,GAAK,EAAgB,GAAM,GAAW,MAC1C,EAAY,KAAK,GAAI,GAAW,CAC5B,OAAQ,EACR,QAAQ,GACR,QAAQ,UAGb,CACH,OAAS,KAAe,GAAgB,GACpC,AAAI,GAAQ,UACR,EAAS,KAAK,EAAgB,GAAM,GAAa,MAAM,IAChD,GAAQ,UACf,EAAQ,KAAK,EAAgB,GAAM,GAAa,MAAM,IAG9D,EAAkB,GAAK,GAAI,GAAW,CAClC,OAAQ,EACR,QAAQ,GACR,QAAQ,IAEZ,EAAmB,GAAK,GAAI,GAAW,CACnC,OAAQ,EACR,QAAQ,GACR,QAAQ,IAKpB,SAAO,QAAa,EACpB,EAAO,OAAY,EACnB,EAAO,KAAU,EACV,EC7LX,MAAe,CAAC,EAAK,IAAU,CAC7B,KAAM,GAAS,EAAI,WAAa,EAChC,SAAW,CAAC,EAAK,IAAQ,GACvB,EAAO,GAAO,EAEhB,MAAO,IC8DT,UACI,KAAM,QACT,MAAM,CACL,UAAW,CACV,KAAM,OACN,QAAS,eAEJ,WAAY,CACR,KAAM,SAGd,MAAQ,CACJ,MAAM,IAIV,QAAS,CACL,gBAAgB,EAAO,EAAO,CAC1B,KAAK,MAAM,kBAAmB,CAAC,SAAQ,WAE3C,gBAAgB,EAAK,EAAO,EAAO,CAC/B,GAAI,GAAU,EAAI,OAAO,MACzB,KAAK,MAAM,kBAAmB,CAAC,UAAS,SAAO,WAEnD,iBAAiB,EAAW,EAAW,CACnC,KAAK,MAAM,mBAAoB,CAAC,YAAW,yDA5FvCC,IAAa,+KAGiB,oSAeW,8HAcA,oHACN,6IAWM,gKAKA,6IAjDjD,4BAEIC,wBACAC,4EACyF,yHAIjE,gBACA,oBACA,KAAK,GACA,qEAE4B,8BAE7CC,YACa,MAAK,uEAGlBC,0BAEY,KAAK,QACL,KAAK,GACL,MACA,IAAI,IACJ,QACA,YACK,8EAM7BC,0EAC+F,gIAIvE,gBACA,oBACA,KAAK,GACA,mGAIjBC,YACa,MAAK,qEAIlB,0BAEY,KAAK,QACL,KAAK,GACL,MACA,IAAI,IACJ,QACA,YACK,6ICtCzC,UACI,KAAM,QACT,MAAM,CACL,UAAW,CACV,KAAM,OACG,SAAS,GAClB,QAAS,kBAEJ,MAAO,CACZ,KAAM,OACG,SAAS,GAClB,QAAS,SAEJ,SAAU,CACf,KAAM,OACG,SAAS,GAClB,QAAS,kBAEJ,SAAU,CACf,KAAM,OACG,SAAS,GAClB,QAAS,OAEJ,MAAO,CACZ,KAAM,OACG,SAAS,GAClB,QAAS,OAEJ,IAAK,CACV,KAAM,OACG,SAAS,GAClB,QAAS,OAEJ,GAAI,CACT,KAAM,OACG,SAAS,GAClB,QAAS,OAEJ,GAAI,CACT,KAAM,OACG,SAAS,GAClB,QAAS,OAEJ,OAAQ,CACb,KAAM,OACG,SAAS,GAClB,QAAS,QAGR,MAAQ,CACJ,MAAO,6CAtECN,IAAgB,0EAKf,MAAM,uFAEF,MAAM,iBACF,MAAM,kIAEkB,+IACgCO,EAAI,wGACRA,EAAI,8JAZzE,4BAEIN,+GAWU,YAL6E,0HAGlBO,iCACJ,mCAEZ,KAAiB,OAAE,IAAI,+FC0BxF,UACI,KAAM,OACT,MAAM,CACL,UAAW,CACV,KAAM,OACN,QAAS,cAEJ,MAAO,CACH,KAAM,OACN,SAAU,GACV,QAAQ,gBAEZ,UAAW,CACP,KAAM,OACN,SAAU,GACV,QAAQ,IAAc,EAAC,IAAI,eAE/B,gBAAiB,CACb,KAAM,OACN,SAAU,IAEd,YAAa,CACT,KAAM,OACN,SAAU,IAEd,iBAAkB,CACd,KAAM,OACN,SAAU,IAEd,aAAc,CACV,KAAM,OACN,SAAU,KAGlB,MAAQ,CACJ,MAAO,IAMX,QAAQ,CACJ,kBAAkB,EAAK,CACnB,QAAQ,IAAI,GACZ,GAAI,GAAU,EAAI,OAAO,MACrB,EAAW,SAAS,GACpB,EAAS,KAAK,aAAe,EAC7B,EAAW,SAAS,eAAe,gBACvC,EAAS,cAAgB,EACzB,KAAK,MAAQ,KAAK,UAAU,GAC5B,KAAK,WAAa,EAClB,KAAK,MAAM,oBAAqB,CAAC,SAAQ,cAE7C,oBAAoB,EAAK,CACrB,GAAI,GAAU,EAAI,OAAO,MACrB,EAAW,SAAS,GACpB,EAAS,KAAK,aAAe,EAC7B,EAAS,SAAS,eAAe,cACrC,EAAO,MAAQ,EACf,KAAK,MAAQ,KAAK,UAAU,GAC5B,KAAK,WAAa,EAClB,KAAK,MAAM,sBAAuB,CAAC,SAAQ,cAE/C,eAAgB,CACZ,GAAI,GAAK,SAAS,eAAe,cAAc,MAC3C,EAAW,EAAK,EAChB,EAAK,EAAK,EACV,EAAS,KAAK,aAAe,EACjC,AAAI,EAAG,GAAG,EACN,MAAK,MAAQ,KAAK,UAAU,GAC5B,KAAK,WAAa,EAClB,SAAS,eAAe,gBAAgB,cAAgB,EACxD,SAAS,eAAe,cAAc,MAAQ,EAC9C,KAAK,MAAM,sBAAuB,CAAC,SAAQ,cAE3C,MAAM,qDAGd,cAAe,CACX,GAAI,GAAK,SAAS,eAAe,gBAAgB,MAC7C,EAAW,OAAO,GAAM,EACxB,EAAK,OAAO,GAAM,EAClB,EAAS,KAAK,aAAe,EACjC,AAAI,OAAO,GAAI,GAAG,KAAK,gBAAgB,EACnC,MAAK,MAAQ,KAAK,UAAU,GAC5B,KAAK,WAAa,EAClB,SAAS,eAAe,gBAAgB,cAAgB,EACxD,SAAS,eAAe,cAAc,MAAQ,EAC9C,KAAK,MAAM,sBAAuB,CAAC,SAAQ,cAE3C,MAAM,4FAlINR,IAAY,kEAGP,MAAM,sBACN,MAAM,mBACF,MAAM,sHAkBH,IAAyB,yJAGzB,kBAAqB,2LAIrB,IAAwB,2KA9B5C,gBACwBS,YACpBF,EAgCM,sCA/BuD,wDAS/C,yBANc,QAAmB,4HAGlB,QACA,SAAU,uFAKnB,KAAO,QACP,QACA,gBACO,IAAK,IACL,IAAK,oBACZ,yBACC,gGAGkC,MAAK,uGAMpD,2BAC+C,MAAK,2KChCzD,8BCAA,kCCAA,qCCAA,gCCAA,yiHC8Bf,UACI,KAAM,UACT,MAAM,CACL,UAAW,CACV,KAAM,OACN,QAAS,iBAEV,KAAM,CACL,KAAM,OAEP,WAAY,CACX,KAAM,OACN,QAAS,KAIR,MAAQ,CACN,MAAO,IAGZ,QAAS,CACR,SAAS,EAAM,CACd,GAAI,GAAQ,MACX,MAAO,IACD,GAAI,GAAQ,UAClB,MAAO,IACD,GAAI,GAAM,aAChB,MAAO,IACD,GAAI,GAAM,QAChB,MAAO,IACD,GAAI,GAAM,OAChB,MAAO,KAGT,gBAAgB,EAAO,EAAO,CACpB,KAAK,MAAM,kBAAmB,CAAC,SAAQ,aAhEvCP,IAAe,iKAAvB,gBACwBS,YAC1BF,EAcM,qFAZJ,IAAK,kEAGF,KAAM,QACN,qBACA,qBACA,MAAOG,EAAgB,kBACnB,qGAG6B,IAAI,kHCP5C,UACI,KAAM,OACT,MAAM,CACL,UAAW,CACV,KAAM,OACN,QAAS,eAGR,MAAQ,CACJ,MAAO,KAhBCV,IAAY,kFAApB,6GCDO,6BCAA,6BCAA,6BCAA,6BCAA,6BCAA,6BCAA,0BCSf,UACI,MAAQ,CACJ,MAAM,IAIV,QAAS,CACL,MAAQ,CACJ,KAAK,MAAM,SAEf,MAAO,CACH,KAAK,MAAM,aAnBd,6NAAL,4BAEIW,+CAAsB,MAAK,0EACL,MAAK,6HCKnC,UACI,MAAM,CAAC,eAAe,QAAQ,aAC9B,MAAQ,CACJ,MAAM,uDAXS,gDACf,4KCoCR,UACI,KAAM,QACT,MAAM,CACL,UAAW,CACV,KAAM,OACN,QAAS,eAEJ,SAAU,CACN,KAAM,SAGd,MAAQ,CACJ,MAAO,CACH,aAAc,EACd,UAAW,KAGnB,SAAU,CACN,WAAY,CACR,MAAO,MAAK,SAAS,OAAO,SAGpC,QAAS,CACL,MAAQ,CACJ,AAAG,KAAK,cAAgB,EACpB,KAAK,aAAe,KAAK,UAAY,EAErC,KAAK,eAET,KAAK,UAAY,SAErB,MAAQ,CACJ,AAAG,KAAK,cAAgB,KAAK,UAAY,EACrC,KAAK,aAAe,EAEpB,KAAK,eAET,KAAK,UAAY,QAErB,SAAS,EAAM,CACpB,GAAI,GAAQ,SACX,MAAO,IACD,GAAI,GAAM,SAChB,MAAO,IACD,GAAI,GAAM,SAChB,MAAO,IACD,GAAI,GAAM,SAChB,MAAO,IACD,GAAI,GAAM,SAChB,MAAO,IACD,GAAI,GAAM,SAChB,MAAO,IACD,GAAI,GAAM,SAChB,MAAO,MAIP,SAAU,GAEV,WAAY,CACR,qBACA,4DAlGQX,IAAa,gBAA+C,MAAA,qEAa/C,MAAM,uBACN,MAAM,yNAZvBC,yCAGS,OAAM,2FAIF,IAAK,EACL,QACA,mEAGDM,EAA0D,MAA1D,KAAiC,EAAM,UACvCA,EAA6C,sCAAZ,IAAK,gMC0D9D,KAAM,IAAS,GAAI,OAGf,KAAM,kBACN,MAAQ,CACJ,MAAO,CACH,iBAAkB,KAAK,SAAS,SAChC,WAAY,GACZ,aAAc,GACd,IAAK,GACL,MAAO,iBACP,SAAS,MACT,GAAG,MACH,GAAG,MACH,IAAK,MACL,MAAM,MACN,OAAO,MAEP,UAAU,GACV,aAAa,GACb,YAAY,GACZ,iBAAiB,GACjB,gBAAgB,KAGxB,MAAO,CACH,SAAU,CACN,KAAM,OACN,SAAU,KAGlB,WAAY,CACR,WAAY,GACZ,cAAe,GACf,UAAW,GACX,aAAc,GACd,UAAW,GACX,WAAY,IAEhB,QAAS,CAEL,gBAAgB,EAAO,CACnB,GAAI,GAAQ,EAAM,MACd,EAAS,EAAM,OAEnB,GAAI,GAAU,EAAG,CACb,GAAI,GAAW,KAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OAClE,EAAS,QAAQ,CAAC,EAAQ,IAAM,CAC5B,AAAI,GAAO,GAEA,EAAS,OAAO,EADvB,EAAQ,WAAW,IAInB,EAAQ,WAAW,cAGpB,GAAU,EAAG,CACpB,GAAI,GAAoB,KAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OAAO,GAAO,aACzF,KAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OAAO,GAAO,WAAW,CAAC,OAC1E,CAEH,GAAI,GAAM,AADD,KAAK,IAAI,YAAY,OAAO,EAAO,GAC/B,QAAQ,OAAO,OAAO,OAAO,EAEtC,EAAa,KAAK,IAAI,YAAY,OAAO,EAAO,GAAO,QAAQ,OAAO,OACtE,EAAc,EAClB,EAAW,QAAQ,CAAC,EAAM,IAAM,CAC5B,GAAI,GAAyB,KAAK,IAAI,YAAY,OAAO,EAAO,GAAO,QAAQ,OAAO,OAAO,GAAG,aAChG,GAAI,EAAM,cAAc,IAAQ,GAAG,EAC/B,YAAK,IAAI,YAAY,OAAO,EAAO,GAAO,QAAQ,OAAO,OAAO,GAAG,WAAW,CAAC,GAC/E,IACO,GACJ,AAAI,GAAa,GAAK,GAAG,GAC5B,KAAK,IAAI,YAAY,OAAO,EAAO,GAAO,QAAQ,OAAO,OAAO,GAAK,WAAW,CAAC,OAQjG,kBAAkB,EAAO,CACrB,GAAI,GAAS,EAAM,OACf,EAAQ,EAAM,SAElB,AADqB,KAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OACzD,QAAQ,CAAC,EAAQ,IAAM,CACtC,AAAI,GAAO,EACP,EAAQ,WAAW,IAEnB,EAAQ,WAAW,OAI3B,gBAAgB,EAAM,CAClB,GAAI,GAAU,EAAM,QAChB,EAAQ,EAAM,MACd,EAAS,EAAM,OAEnB,GAAI,GAAU,EACd,AAAI,KAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OAAO,GAAO,cAAgB,GACjF,MAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OAAO,GAAO,WAAW,IAC5E,KAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OAAO,GAAO,QAAQ,QAAU,EACnF,KAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OAAO,GAAO,WAAW,KAE5E,KAAK,IAAI,YAAY,OAAO,GAAQ,QAAQ,OAAO,OAAO,GAAO,QAAQ,QAAU,MAEhF,CACP,GAAI,GAAK,KAAK,IAAI,YAAY,OAAO,EAAO,GAC5C,AAAI,EAAG,cAAc,GACjB,GAAG,WAAW,IACd,EAAG,QAAQ,QAAQ,EACnB,EAAG,WAAW,KAEd,EAAG,QAAQ,QAAQ,IAI3B,iBAAiB,EAAM,CACnB,GAAI,GAAY,EAAM,UAClB,EAAY,EAAM,UAAU,IAC5B,EAAQ,KAAK,WAAW,GAAW,GAGvC,GAFA,KAAK,MAAQ,EAET,GAAa,OAAO,CACpB,GAAI,GAAO,EAAM,SACb,EAAa,EAAM,cACvB,KAAK,SAAW,KAAK,SAAS,SAAS,GAAM,SAC7C,KAAK,MAAQ,KAAK,SAAS,SAAS,GAAM,MAC1C,KAAK,IAAM,EAAM,IACjB,KAAK,OAAS,EAAM,MAAM,GAAG,QAAQ,OAAO,eAE5C,KAAK,GAAK,EAAW,GACrB,KAAK,GAAK,EAAW,EAAW,OAAO,GAEvC,KAAK,UAAY,KAAK,WAAW,KAAK,GAAW,cACjD,KAAK,YAAc,KAAK,UAAU,OAAO,KAAK,KAAK,WAAW,OAAO,GACrE,KAAK,iBAAmB,OAAO,KAAK,KAAK,WAAW,OACpD,KAAK,gBAAkB,OAAO,KAAK,KAAK,WAAW,OACnD,KAAK,aAAe,OAAO,KAAK,KAAK,WAAW,MAAM,QAAQ,KAGtE,cAAe,IAInB,SAAU,CAEN,KAAK,iBAAmB,KAAK,SAAS,SACtC,EAAM,IAAI,KAAK,SAAS,WACnB,KAAK,GAAY,CAGd,GAAI,GAAS,AADM,GAAO,KAAK,EAAS,MACd,WAAW,MAAM,MACvC,EAAc,GAAe,EAAO,KAAK,SAAS,SAAS,KAAK,SAAS,QACzE,EAAkB,GAAc,GAEhC,EAAgB,GAAkB,GACtC,YAAK,WAAa,EAClB,KAAK,YAAc,EACZ,IAEV,KAAK,GAAiB,CACnB,KAAM,GAAM,KACZ,OAAS,KAAO,GAClB,OAAS,KAAS,GAAc,GAC/B,EAAI,SAAS,EAAc,GAAK,IAG/B,KAAK,IAAM,IAEd,MAAM,GAAO,QAAQ,IAAI,MAjPtB,YAAM,+BA2CN,YAAQ,qOA1ChB,KACgB,GACX,wBACA,wBACA,kBAAiB,kBACjB,mFAYH,8EATc,GACP,2BACA,oBACA,cACA,oBACA,GAAI,KACJ,QACA,cACA,mCAcP,mEAXc,GACX,uBACA,cACA,YAAiB,UACjB,kCACA,0BACA,oCACA,4BACA,oBAAmB,oBACnB,0CACA,gFAOH,2KAJc,GACX,0BACA,OAAY,iBACZ,qEAKH,4CAFc,GACX,qDAEiC,aACtCK,gEC3CR,KAAM,IAAW,CACb,OAAQ,yCACR,UAAW,mFACX,SAAS,CACL,IAAI,CACA,MAAM,gBACN,SAAS,kNACT,MAAM,MACN,MAAO,SAEX,IAAI,CACA,MAAM,yBACN,SAAS,uCACT,MAAM,MACN,MAAO,SAEX,KAAK,CACD,MAAM,iCACN,SAAS,mCACT,MAAM,OACN,MAAO,UAGf,SAAU,CAEN,CAAC,MAAM,MAAM,OAAO,MAAM,IAAI,UAAU,OAAO,IAC/C,CAAC,MAAM,aAAa,OAAO,SAAS,IAAI,iBAAiB,OAAO,IAChE,CAAC,MAAM,UAAU,OAAO,iBAAiB,IAAI,cAAc,OAAO,IAClE,CAAC,MAAM,QAAQ,OAAO,QAAQ,IAAI,YAAY,OAAO,IACrD,CAAC,MAAM,OAAO,OAAO,OAAO,IAAI,WAAW,OAAO,KAEtD,OAAO,CACH,CAAC,MAAM,WAAW,IAAI,SAAS,YAAY,wIAC3C,CAAC,MAAM,8BAA8B,IAAI,SAAS,YAAY,2GAC9D,CAAC,MAAM,gCAAgC,IAAI,SAAS,YAAY,0IAChE,CAAC,MAAM,2CAA2C,IAAI,SAAS,YAAY,6EAC3E,CAAC,MAAM,2CAA2C,IAAI,SAAS,YAAY,6EAC3E,CAAC,MAAM,qBAAqB,IAAI,SAAS,YAAY,mEACrD,CAAC,MAAM,oBAAoB,IAAI,SAAS,YAAY,wCCzB5D,UACE,KAAM,MACL,MAAQ,CACN,MAAO,CACJ,SAAU,KAGjB,WAAY,CACX,2FApBG,kICAL,EAAU,IAAK,MAAM"}