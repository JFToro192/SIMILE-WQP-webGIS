import{W as C,a as P,o as m,c as _,b as y,t as d,d as a,F as f,r as w,n as L,e as E,f as I,p as N,g as W,h as x,w as T,i as q,v as j,T as z,j as h,k as g,l as G,C as p,O as F,m as V,q as H,S as B,M as D,s as Q,u as R,x as U,V as K}from"./vendor.b17b2676.js";const J=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?l.credentials="include":e.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(e){if(e.ep)return;e.ep=!0;const l=s(e);fetch(e.href,l)}};J();const X=new C;function Y(n){P.get(n).then(i=>{let t=X.read(i.data).Capability.Layer.Layer;return M(t)}).catch(i=>console.log(i))}function M(n){let i={static:{},timeSeries:{}};return n.forEach(s=>{let t=s.Title.split("_"),e="";if(t.length==5){e=t.slice(0,3).join("_")+"_"+t[4];let l=t[0],o=t[1],c=t[2],r=t[3],u="";l=="L8"?u=r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,2):u=r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,2)+" "+r.substr(9,2)+":"+r.substr(11,2)+":"+r.substr(13,2);let S=t[4];e in i.timeSeries?(i.timeSeries[e].title.push(s.Title),i.timeSeries[e].layer.push(s),i.timeSeries[e].ts.push(r),i.timeSeries[e].tsFormatted.push(new Date(u))):(i.timeSeries[e]={},i.timeSeries[e].title=[s.Title],i.timeSeries[e].layer=[s],i.timeSeries[e].satellite=l,i.timeSeries[e].wqp=o,i.timeSeries[e].crs=c,i.timeSeries[e].ts=[r],i.timeSeries[e].tsFormatted=[new Date(u)],i.timeSeries[e].lvl=S)}else e=t.join("_"),i.static[e]={layer:s}}),i}var b=(n,i)=>{const s=n.__vccOpts||n;for(const[t,e]of i)s[t]=e;return s};const Z={name:"Layer",props:{child_msg:{type:String,default:"Layer Panel"},layer_list:{type:Object}},data(){},mounted(){}},ee={id:"layerPanel",class:"layer-panel ol-unselectable ol-control"},te=a("h6",{class:"static-layers-title"},[a("i",{class:"bi bi-arrow-right"}),y("Static Layers")],-1),se={class:"static-layers active",id:"staticLayers"},ie={class:"layer-items"},ne=a("input",{type:"checkbox",name:"",id:""},null,-1),ae=[ne],le={class:"title-layer"},oe=["title"],re=E('<div class="dwnld-layer"><i class="bi bi-box-arrow-down"></i></div><div class="info-layer"><i class="bi bi-info-square"></i></div><div class="opct-layer"><i class="bi bi-circle-half"></i></div><div class="opct-range-layer"><input type="range" name="" id=""></div>',4),ce=a("h6",{class:"time-series-layers-title"},[a("i",{class:"bi bi-arrow-right"}),y("Time Series Layers")],-1),de={class:"time-series-layers active",id:"timeSeriesLayers"},me={class:"layer-items"},ue=a("input",{type:"checkbox",name:"",id:""},null,-1),pe=[ue],_e={class:"title-layer"},be=["title"],he=E('<div class="dwnld-layer"><i class="bi bi-box-arrow-down"></i></div><div class="info-layer"><i class="bi bi-info-square"></i></div><div class="opct-layer"><i class="bi bi-circle-half"></i></div><div class="opct-range-layer"><input type="range" name="" id=""></div>',4);function ge(n,i,s,t,e,l){return m(),_("div",ee,[y(d(s.child_msg)+" ",1),te,a("div",se,[(m(!0),_(f,null,w(s.layer_list.static,(o,c,r)=>(m(),_("div",{class:"static-layer layer-list",key:o.static},[a("div",ie,[a("div",{class:L("chckbx-layer layer-static-"+r)},ae,2),a("div",le,[a("p",{title:c},d(c),9,oe)]),re])]))),128))]),ce,a("div",de,[(m(!0),_(f,null,w(s.layer_list.timeSeries,(o,c,r)=>(m(),_("div",{class:"time-series-layer layer-list",key:o.timeSeries},[a("div",me,[a("div",{class:L("chckbx-layer layer-timeSeries-"+r)},pe,2),a("div",_e,[a("p",{title:c},d(c),9,be)]),he])]))),128))])])}var ve=b(Z,[["render",ge]]);const ye={name:"Layer",props:{child_msg:{type:String,default:"Metadata Panel"},title_layer:{type:String,default:"Title"},abstract_layer:{type:String,default:"Select a layer"},typology_layer:{type:String,default:"N/A"},crs_layer:{type:String,default:"N/A"},tstart_layer:{type:String,default:"N/A"},tend_layer:{type:String,default:"N/A"},legend_layer:{type:String,default:"N/A"}},data(){return{}}},fe={id:"metadataPanel",class:"metadata-panel ol-unselectable ol-control"},we={class:"meta-title"},Se={class:"meta-abstract"},Ce={class:"meta-info"},Pe={class:"meta-details"},$e={class:"meta-details-typology"},Le={class:"meta-details-crs"},Ee={class:"meta-details-tstart"},xe={class:"meta-details-tend"},Te={class:"meta-legend"};function Me(n,i,s,t,e,l){return m(),_("div",fe,[y(d(s.child_msg)+" ",1),a("div",we,[a("h6",null,d(s.title_layer),1)]),a("div",Se,"Abstract: "+d(s.abstract_layer),1),a("div",Ce,[a("div",Pe,[a("div",$e,"Typology: "+d(s.typology_layer),1),a("div",Le,"CRS: "+d(s.crs_layer),1),a("div",Ee,"Time Start: "+d(s.tstart_layer),1),a("div",xe,"Time end: "+d(s.tend_layer),1)]),a("div",Te,"Legend: "+d(s.legend_layer),1)])])}var ke=b(ye,[["render",Me]]);const Ie={name:"Time",props:{child_msg:{type:String,default:"Time Panel"},current_layer:{type:String,default:"Select a WQP map"},current_date:{type:String,default:"Date"}},data(){return{}}},Ne={id:"timePanel",class:"time-panel ol-unselectable ol-control"},We={class:"time-container"},He={class:"time-header"},Be=E('<div class="time-controls"><div class="time-controls-dates"><select name="" id=""><option value="1">Select WQP...</option></select></div><div class="time-slider"><input type="range" name="" id=""></div><div id="time-controls-backward" class="time-controls_item ol-unselectable ol-control"><button><i class="bi bi-skip-backward-circle"></i></button></div><div id="time-controls-play" class="time-controls_item ol-unselectable ol-control"><div><button><i class="bi bi-play-circle"></i></button></div></div><div id="time-controls-forward" class="time-controls_item ol-unselectable ol-control"><button><i class="bi bi-skip-forward-circle"></i></button></div></div>',1);function Ae(n,i,s,t,e,l){return m(),_("div",Ne,[a("p",null,d(s.child_msg),1),a("div",We,[a("div",He,d(s.current_layer)+" - "+d(s.current_date),1),Be])])}var Oe=b(Ie,[["render",Ae]]),qe="/assets/terrain.d843a7bb.png";const je={name:"Basemap",props:{child_msg:{type:String,default:"Basemap Panel"},data:{type:Array}},data(){return{}},methods:{getImage(){return qe}}},ze={id:"basemapPanel",class:"basemap-panel ol-unselectable ol-control"},Ge={class:"basemap-container"},Fe=["id","checked"],Ve=["src"];function De(n,i,s,t,e,l){return m(),_("div",ze,[a("p",null,d(s.child_msg),1),a("div",Ge,[(m(!0),_(f,null,w(s.data,(o,c)=>(m(),_("div",{key:o.layer,class:"basemap-container_item"},[a("div",null,[a("input",{type:"radio",name:"basemap-radio",id:o.layer+"-option",class:L("basemap-option"),checked:o.active},null,8,Fe),a("p",null,d(o.layer),1)]),a("img",{src:l.getImage(),alt:""},null,8,Ve)]))),128))])])}var Qe=b(je,[["render",De]]);const Re={name:"Plot",props:{child_msg:{type:String,default:"Plot Panel"}},data(){return{}}},Ue={id:"plotPanel",class:"plot-panel ol-unselectable ol-control"};function Ke(n,i,s,t,e,l){return m(),_("div",Ue,d(s.child_msg),1)}var Je=b(Re,[["render",Ke]]);const Xe={data(){return{}},methods:{prev(){this.$emit("prev")},next(){this.$emit("next")}}},A=n=>(N("data-v-07c985f2"),n=n(),W(),n),Ye={class:"carousel-container"},Ze=A(()=>a("i",{class:"bi bi-caret-left-fill"},null,-1)),et=[Ze],tt=A(()=>a("i",{class:"bi bi-caret-right-fill"},null,-1)),st=[tt];function it(n,i,s,t,e,l){return m(),_("div",Ye,[I(n.$slots,"default",{},void 0,!0),a("button",{class:"prev",onClick:i[0]||(i[0]=(...o)=>l.prev&&l.prev(...o))},et),a("button",{class:"next",onClick:i[1]||(i[1]=(...o)=>l.next&&l.next(...o))},st)])}var nt=b(Xe,[["render",it],["__scopeId","data-v-07c985f2"]]);const at={props:["visibleSlide","index","direction"],data(){return{}}},lt={class:"carousel-slide"};function ot(n,i,s,t,e,l){return m(),x(z,{name:s.direction},{default:T(()=>[q(a("div",lt,[I(n.$slots,"default",{},void 0,!0)],512),[[j,s.visibleSlide===s.index]])]),_:3},8,["name"])}var rt=b(at,[["render",ot],["__scopeId","data-v-664b1638"]]);const ct={name:"Slide",props:{child_msg:{type:String,default:"Slide Panel"},settings:{type:Object}},data(){return{visibleSlide:0,direction:""}},computed:{slidesLen(){return this.settings.slides.length}},methods:{prev(){this.visibleSlide<=0?this.visibleSlide=this.slidesLen-1:this.visibleSlide--,this.direction="right"},next(){this.visibleSlide>=this.slidesLen-1?this.visibleSlide=0:this.visibleSlide++,this.direction="left"}},mounted(){},components:{CarouselContainer:nt,CarouselSlide:rt}},dt=n=>(N("data-v-326b7097"),n=n(),W(),n),mt={id:"slidePanel",class:"slide-panel ol-unselectable ol-control"},ut={class:"slide-show"},pt={class:"slide-title"},_t={class:"slide-description"},bt=["src","alt"],ht=dt(()=>a("div",{class:"slide-current"},null,-1));function gt(n,i,s,t,e,l){const o=h("carousel-slide"),c=h("carousel-container");return m(),_("div",mt,[y(d(s.child_msg)+" ",1),a("div",ut,[g(c,{onPrev:l.prev,onNext:l.next},{default:T(()=>[(m(!0),_(f,null,w(s.settings.slides,(r,u)=>(m(),x(o,{key:r,index:u,visibleSlide:e.visibleSlide,direction:e.direction},{default:T(()=>[a("div",pt,d(r.title),1),a("div",_t,d(r.description),1),a("img",{src:"./src/assets/img/slides/"+r.src,alt:u},null,8,bt)]),_:2},1032,["index","visibleSlide","direction"]))),128))]),_:1},8,["onPrev","onNext"])]),ht])}var vt=b(ct,[["render",gt],["__scopeId","data-v-326b7097"]]);const yt=new C,ft={name:"WebGISContainer",data(){return{basemap_settings:this.settings.basemaps,layer_list:{}}},props:{settings:{type:Object,required:!0}},components:{layerPanel:ve,metadataPanel:ke,timePanel:Oe,basemapPanel:Qe,plotPanel:Je,slidePanel:vt},methods:{},mounted(){this.basemap_settings=this.settings.basemaps,P.get(this.settings.urlWMSget).then(n=>{let s=yt.read(n.data).Capability.Layer.Layer,t=M(s);this.layer_list=t}).catch(n=>console.log(n))}},wt=a("div",{id:"map",class:"map"},null,-1),St=a("div",{id:"popup",class:"popup ol-unselectable ol-control"},null,-1);function Ct(n,i,s,t,e,l){const o=h("layerPanel"),c=h("metadataPanel"),r=h("timePanel"),u=h("basemapPanel"),S=h("slidePanel"),O=h("plotPanel");return m(),_("div",null,[wt,g(o,{child_msg:"Layer-Panel",layer_list:e.layer_list},null,8,["layer_list"]),g(c,{child_msg:"Metadata-Panel"}),g(r,{child_msg:"Time-Panel"}),g(u,{child_msg:"Basemap-Panel",data:e.basemap_settings},null,8,["data"]),g(S,{child_msg:"Slide-Panel",settings:s.settings},null,8,["settings"]),g(O,{child_msg:"Plot-Panel"}),St])}var Pt=b(ft,[["render",Ct]]);const $t={urlWMS:"http://127.0.0.1/geoserver/geonode/wms",urlWMSget:"http://127.0.0.1/geoserver/ows?service=wms&version=1.3.0&request=GetCapabilities",typology:{CHL:{title:"Chlorophyll-a",abstract:"Chlorophyll-a allows plants to photosintezise. This measurement is used to classify the trophic conditionof a water body. The Chlorophyll-a maps presented have been processed using the Sentinel-3 OLCI sensor",style:"chl",units:"mg/m3"},TSM:{title:"Total Suspended Matter",abstract:"Total suspended matter concentration",style:"tsm",units:"mg/m3"},LSWT:{title:"Lake Surface Water Temperature",abstract:"Average lake surface temperature",style:"lswt",units:"\xB0C"}},basemaps:[{layer:"watercolor",source:"stamen",src:"watercolor.png",active:!1},{layer:"terrain",source:"terrain-labels",src:"terrain.png",active:!0},{layer:"toner",source:"toner",src:"toner.png",active:!1},{layer:"none",source:"none",src:"none.png",active:!1}],slides:[{title:"Welcome!",src:"i1.png",description:"1. SIMILE WebGIS enables the visualization of the water quality parameters (WQPs) maps produced for Lakes Maggiore, Lugano and Como."},{title:"Explore the different tools",src:"i2.png",description:"2. The WebGIS presents multtiple panels allowing to explore the different water quality parameters maps"},{title:"Visualize and explore the WQP",src:"i3.png",description:"3. Review the different components allowing the visualization of the maps, such as the layer panel, metadata panel and time controller"},{title:"Observe the evolution of the time series",src:"i4.png",description:"4. Use the time manager to observe the changes of the parameters in time."},{title:"Observe the evolution of the time series",src:"i5.png",description:"4. Use the time manager to observe the changes of the parameters in time."},{title:"Change the basemap",src:"i6.png",description:"5. Customize the view of the WebGIS by using different basemaps"},{title:"Explore the guide",src:"i7.png",description:"6. Review the guide for the WebGIS"}]};const Lt=new C,Et={name:"App",data(){return{settings:$t,layer_list:{}}},components:{WebGISContainer:Pt},async created(){await Y(this.settings.urlWMSget),P.get(this.settings.urlWMSget).then(n=>{let s=Lt.read(n.data).Capability.Layer.Layer,t=M(s);this.layer_list=t,console.log(this.layer_list)}).catch(n=>console.log(n))}};function xt(n,i,s,t,e,l){const o=h("WebGISContainer");return m(),x(o,{settings:e.settings},null,8,["settings"])}var Tt=b(Et,[["render",xt],["__scopeId","data-v-541bb0f7"]]);G(Tt).mount("#app");var Mt="/assets/assev_simile.d3f83cf6.png";function k(){const n="."+this.element.classList[0],i="."+n.split("-")[1]+"-item",s=$(n);s.hasClass("active")?($(`${i}`).slice(0).hide(),s.removeClass("active")):($(`${i}`).slice(0).show(),s.addClass("active"))}function v(){const n="."+this.element.classList[0],i="."+n.split("-")[1]+"-panel",s=$(n),t=$(i);t.hasClass("active")?(t.hide(),s.removeClass("active"),t.removeClass("active")):(t.show(),s.addClass("active"),t.addClass("active"))}class kt extends p{constructor(i){const s=i||{},t=document.createElement("button");t.innerHTML='<i class="bi bi-list"></i>';const e=document.createElement("div");e.className="show-burger ol-unselectable ol-control control-bar active",e.appendChild(t);super({element:e,target:s.target});e.addEventListener("click",k.bind(this),!1)}}class It extends p{constructor(i){const s=i||{},t=document.createElement("button");t.innerHTML='<i class="bi bi-stack"></i>',t.title="layers panel";const e=document.createElement("div");e.className="show-layer ol-unselectable ol-control control-bar burger-item",e.appendChild(t);super({element:e,target:s.target});e.addEventListener("click",v.bind(this),!1)}}class Nt extends p{constructor(i){const s=i||{},t=document.createElement("button");t.innerHTML='<i class="bi bi-info-square"></i>',t.title="metadata panel";const e=document.createElement("div");e.className="show-metadata ol-unselectable ol-control control-bar burger-item",e.appendChild(t);super({element:e,target:s.target});e.addEventListener("click",v.bind(this),!1)}}class Wt extends p{constructor(i){const s=i||{},t=document.createElement("button");t.innerHTML='<i class="bi bi-clock-history"></i>',t.title="time panel";const e=document.createElement("div");e.className="show-time ol-unselectable ol-control control-bar burger-item",e.appendChild(t);super({element:e,target:s.target});e.addEventListener("click",v.bind(this),!1)}}class Ht extends p{constructor(i){const s=i||{},t=document.createElement("button");t.innerHTML='<i class="bi bi-map"></i>',t.title="basemaps";const e=document.createElement("div");e.className="show-basemap ol-unselectable ol-control control-bar burger-item",e.appendChild(t);super({element:e,target:s.target});e.addEventListener("click",v.bind(this),!1)}}class Bt extends p{constructor(i){const s=i||{},t=document.createElement("button");t.innerHTML='<i class="bi bi-graph-up"></i>',t.title="plot time series";const e=document.createElement("div");e.className="show-plot ol-unselectable ol-control control-bar burger-item",e.appendChild(t);super({element:e,target:s.target});e.addEventListener("click",v.bind(this),!1)}}class At extends p{constructor(i){const s=i||{},t=document.createElement("button");t.innerHTML='<i class="bi bi-file-earmark-easel"></i>',t.title="webgis guide";const e=document.createElement("div");e.className="show-slide ol-unselectable ol-control control-bar burger-item active",e.appendChild(t);super({element:e,target:s.target});e.addEventListener("click",v.bind(this),!1)}}class Ot extends p{constructor(i){const s=i||{},t=document.createElement("ul"),e=document.createElement("li"),l=document.createElement("li"),o=document.createElement("li"),c=document.createElement("li"),r=document.createElement("li");e.innerHTML='<button><i class="bi bi-people"></i></button>',l.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-facebook"></i></button>',o.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-twitter"></i></button>',c.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-linkedin"></i></button>',r.innerHTML='<button class="social-item" style="display:none;"><i class="bi bi-instagram"></i></button>',e.title="social",l.title="facebook",o.title="twitter",c.title="linkedin",r.title="instagram";const u=document.createElement("div");u.className="show-social ol-unselectable ol-control control-bar burger-item",t.appendChild(e),t.appendChild(l),t.appendChild(o),t.appendChild(c),t.appendChild(r),u.appendChild(t);super({element:u,target:s.target});e.addEventListener("click",k.bind(this),!1)}}class qt extends p{constructor(i){const s=i||{},t=document.createElement("ul"),e=document.createElement("li"),l=document.createElement("li"),o=document.createElement("li"),c=document.createElement("li"),r=document.createElement("li");e.innerHTML='<button ><i class="bi bi-journals"></i></button>',l.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-newspaper"></i></button>',o.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-briefcase"></i></button>',c.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-github"></i></button>',r.innerHTML='<button class="about-item" style="display:none;"><i class="bi bi-calendar-week"></i></button>',e.title="portfolio",l.title="news",o.title="business intelligence platform",c.title="webgis github repository",r.title="calendar";const u=document.createElement("div");u.className="show-about ol-unselectable ol-control control-bar burger-item",t.appendChild(e),t.appendChild(l),t.appendChild(o),t.appendChild(c),t.appendChild(r),u.appendChild(t);super({element:u,target:s.target});e.addEventListener("click",k.bind(this),!1)}}class jt extends p{constructor(i){const s=i||{},t=document.createElement("div"),e=document.createElement("a");e.href="https://www.progetti.interreg-italiasvizzera.eu/it/b/78/sistemainformativoperilmonitoraggiointegratodeilaghiinsubriciedeiloroe";const l=document.createElement("img");l.src=Mt,l.alt="logo-simile-interreg",e.appendChild(l),t.appendChild(e);const o=document.createElement("div");o.className="project-logo ol-unselectable ol-control",o.appendChild(t);super({element:o,target:s.target})}}const zt=new p({element:document.getElementById("layerPanel")}),Gt=new p({element:document.getElementById("metadataPanel")}),Ft=new p({element:document.getElementById("timePanel")}),Vt=new p({element:document.getElementById("basemapPanel")}),Dt=new p({element:document.getElementById("plotPanel")});new p({element:document.getElementById("slidePanel")});new p({element:document.getElementById("popup")});new F;const Qt=new V({layers:[new H({source:new B({layer:"watercolor"})})]});new D({target:"map",controls:Q().extend([new R,new U,Qt,new kt,new It,zt,new Nt,Gt,new Wt,Ft,new Ht,Vt,new Bt,Dt,new At,new Ot,new qt,new jt]),layers:[new H({source:new B({layer:"watercolor"})})],view:new K({center:[994904.36016,5775887605341e-6],zoom:10})});
//# sourceMappingURL=index.6cee6d40.js.map
